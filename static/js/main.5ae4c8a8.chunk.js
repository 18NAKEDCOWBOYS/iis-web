(this["webpackJsonpiis-web"]=this["webpackJsonpiis-web"]||[]).push([[0],{107:function(e,t,n){e.exports={centerContent:"LoginPage_centerContent__HlTp6",loginForm:"LoginPage_loginForm__XLz7O"}},108:function(e,t,n){e.exports={centerContent:"RegisterPage_centerContent__tA340",registerForm:"RegisterPage_registerForm__1uL4m"}},110:function(e,t,n){},115:function(e,t,n){e.exports={centerContent:"NotFoundPage_centerContent__1NeNb"}},133:function(e,t,n){"use strict";n.r(t);var a=n(1),i=n.n(a),r=n(37),s=n.n(r),c=(n(110),n(9)),l=n(18),o=n(12),d=n(19),j=n(68),u=n(7),h=n(8),b=n(27),m=n(21),x=n(77),O=n(33),p=n(102),g=n(5),v=n(0),f=Object(a.createContext)({}),y=function(e){var t=e.children,n=Object(a.useState)(!1),i=Object(g.a)(n,2),r=i[0],s=i[1],c=Object(a.useState)({}),l=Object(g.a)(c,2),o={IsLoggedIn:r,setIsLoggedIn:s,User:l[0],setUser:l[1]};return Object(v.jsx)(f.Provider,{value:o,children:t})},_=function(){return Object(a.useContext)(f)};function k(e){var t=_(),n=t.setIsLoggedIn,a=t.User,i=t.IsLoggedIn,r=t.setUser;return Object(v.jsx)(x.a,{collapseOnSelect:!0,fixed:"top",expand:"lg",bg:"dark",variant:"dark",children:Object(v.jsxs)(l.a,{children:[Object(v.jsx)(x.a.Brand,{as:m.b,to:"/",children:"Aukce"}),Object(v.jsx)(x.a.Toggle,{"aria-controls":"responsive-navbar-nav"}),Object(v.jsx)(x.a.Collapse,{id:"responsive-navbar-nav",children:Object(v.jsxs)(O.a,{className:"ms-auto",children:[Object(v.jsx)(O.a.Item,{children:Object(v.jsx)(O.a.Link,{as:m.b,to:"/",style:"/"===e.page?{color:"white"}:{},children:" Seznam aukc\xed"})}),Object(v.jsx)(O.a.Item,{children:Object(v.jsx)(O.a.Link,{as:m.b,to:"/usr-man",style:"/usr-man"===e.page?{color:"white"}:{},children:" Spr\xe1va u\u017eivatel\u016f"})}),i?Object(v.jsx)(v.Fragment,{children:Object(v.jsx)(O.a.Item,{children:Object(v.jsxs)(p.a,{align:"end",menuVariant:"dark",title:a.name,id:"collasible-nav-dropdown",children:[Object(v.jsx)(p.a.Item,{as:m.b,to:"/user-profile",style:"/user-profile"===e.page?{color:"white"}:{},children:" M\u016fj profil "}),Object(v.jsx)(p.a.Item,{onClick:function(){n(!1),r({})},children:" Odhl\xe1sit se"})]})})}):Object(v.jsx)(v.Fragment,{children:Object(v.jsx)(O.a.Item,{style:{borderRadius:5,backgroundColor:"#0d6efd"},children:Object(v.jsx)(O.a.Link,{as:m.b,to:"/Login",style:"/Login"===e.page?{color:"white"}:{color:"#cfcfcf"},children:" P\u0159ihl\xe1sit se"})})})]})})]})})}var C=n(107),w=n.n(C);function S(e){var t=_(),n=t.setIsLoggedIn,a=t.setUser,i=Object(c.f)();return Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(k,{page:"Login"}),Object(v.jsx)(l.a,{style:{height:"100%"},children:Object(v.jsx)(d.a,{style:{height:"100%"},children:Object(v.jsx)(o.a,{className:w.a.centerContent,children:Object(v.jsx)("div",{className:w.a.loginForm,children:Object(v.jsx)(b.a,{initialValues:{email:"",password:""},validate:function(e){var t={};return e.email?/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,4}$/i.test(e.email)||(t.email="Nespr\xe1vn\xfd form\xe1t e-mailov\xe9 adresy"):t.email="Nezadali jste e-mailovou adresu",e.password||(t.password="Nezadali jste heslo"),t},onSubmit:function(e,t){console.log(JSON.stringify(e)),fetch("https://iis-api.herokuapp.com/auth/login",{method:"POST",headers:{"Content-type":"application/json; charset=UTF-8"},body:JSON.stringify(e)}).then((function(e){return e.text()})).then((function(e){if(console.log(e),"Username or password incorrect"===e)t.setStatus("Zadali jste \u0161patn\xfd e-mail nebo heslo");else{var r=JSON.parse(e);sessionStorage.setItem("accessToken",r.accessToken),n(!0),fetch("https://iis-api.herokuapp.com/users/current",{method:"GET",headers:{Authorization:"Bearer "+r.accessToken}}).then((function(e){return e.text()})).then((function(e){console.log(e),a(JSON.parse(e)),i("/")}))}t.setSubmitting(!1)}))},children:function(e){var t=e.values,n=e.errors,a=e.status,i=e.touched,r=e.handleChange,s=(e.handleBlur,e.handleSubmit),c=e.isSubmitting;return Object(v.jsxs)(u.a,{onSubmit:s,children:[Object(v.jsx)("label",{style:{width:"100%",textAlign:"center",paddingBottom:40,color:"#0d6efd",fontSize:"30px"},children:"Zadejte p\u0159ihla\u0161ovac\xed \xfadaje"}),Object(v.jsxs)(j.a,{controlId:"floatingInput",label:"E-mailov\xe1 adresa",className:"mb-3",children:[Object(v.jsx)(u.a.Control,{type:"text",name:"email",placeholder:"example@domain.net",onChange:r,value:t.email}),n.email&&i.email?Object(v.jsx)("div",{style:{color:"red"},children:n.email}):null]}),Object(v.jsxs)(j.a,{controlId:"floatingPassword",label:"Heslo",children:[Object(v.jsx)(u.a.Control,{type:"password",name:"password",placeholder:"Heslo",onChange:r,value:t.password}),n.password&&i.password?Object(v.jsx)("div",{style:{color:"red"},children:n.password}):null]}),Object(v.jsxs)("div",{style:{paddingTop:30},className:"d-grid align-items-center",children:[Object(v.jsx)(h.a,{variant:"primary",type:"submit",disabled:c,size:"lg",children:"P\u0159ihl\xe1sit se"}),a?Object(v.jsx)("div",{style:{color:"red",width:"100%",paddingTop:10,textAlign:"center"},children:a}):null]}),Object(v.jsxs)("div",{style:{width:"100%",textAlign:"center",paddingTop:10},children:[Object(v.jsx)("label",{style:{marginRight:5},children:"Je\u0161t\u011b nem\xe1te \xfa\u010det?"}),Object(v.jsx)(m.b,{style:{color:"#0d6efd"},to:"/register",children:"Zaregistrujte se!"})]})]})}})})})})})]})}function N(e){var t=_(),n=t.setIsLoggedIn,a=t.setUser,i=Object(c.f)();return Object(v.jsx)(b.a,{initialValues:{email:"",password:"",name:"",surname:""},validate:function(e){var t={};return e.email?/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,4}$/i.test(e.email)||(t.email="Nespr\xe1vn\xfd form\xe1t e-mailov\xe9 adresy"):t.email="Nezadali jste e-mailovou adresu",e.password?e.password.length<8&&(t.password="Heslo je p\u0159\xedli\u0161 kr\xe1tk\xe9"):t.password="Nezadali jste heslo",e.name||(t.name="Nezadali jste jm\xe9no"),e.surname||(t.surname="Nezadali jste p\u0159\xedjmen\xed"),t},onSubmit:function(e,t){fetch("https://iis-api.herokuapp.com/auth/register",{method:"POST",headers:{"Content-type":"application/json; charset=UTF-8"},body:JSON.stringify(e)}).then((function(e){return e.text()})).then((function(e){if("User already exists"==e)t.setStatus("U\u017eivatel ji\u017e existuje");else{var r=JSON.parse(e);sessionStorage.setItem("accessToken",r.accessToken),n(!0),fetch("https://iis-api.herokuapp.com/users/current",{method:"GET",headers:{Authorization:"Bearer "+r.accessToken}}).then((function(e){return e.text()})).then((function(e){console.log(e),a(JSON.parse(e)),i("/")}))}}))},children:function(e){var t=e.values,n=e.errors,a=e.status,i=e.touched,r=e.handleChange,s=(e.handleBlur,e.handleSubmit),c=e.isSubmitting;return Object(v.jsxs)(u.a,{onSubmit:s,children:[Object(v.jsx)("label",{style:{width:"100%",textAlign:"center",paddingBottom:40,color:"#0d6efd",fontSize:"30px"},children:"Registra\u010dn\xed formul\xe1\u0159"}),Object(v.jsxs)(d.a,{className:"mb-3",children:[Object(v.jsxs)(u.a.Group,{style:{minWidth:200},as:o.a,controlId:"formGridUsername",children:[Object(v.jsx)(u.a.Label,{children:"E-mailov\xe1 adresa"}),Object(v.jsx)(u.a.Control,{type:"text",name:"email",placeholder:"Zadejte e-mailovou adresu",onChange:r,value:t.email}),n.email&&i.email?Object(v.jsx)("div",{style:{color:"red"},children:n.email}):null]}),Object(v.jsxs)(u.a.Group,{style:{minWidth:200},as:o.a,controlId:"formGridPassword",children:[Object(v.jsx)(u.a.Label,{children:"Heslo"}),Object(v.jsx)(u.a.Control,{type:"password",name:"password",placeholder:"Zadejte heslo",onChange:r,value:t.password}),n.password&&i.password?Object(v.jsx)("div",{style:{color:"red"},children:n.password}):null]})]}),Object(v.jsxs)(d.a,{className:"mb-3",children:[Object(v.jsxs)(u.a.Group,{style:{minWidth:200},as:o.a,controlId:"formGridName",children:[Object(v.jsx)(u.a.Label,{children:"Jm\xe9no"}),Object(v.jsx)(u.a.Control,{type:"text",name:"name",placeholder:"Zadejte jm\xe9no",onChange:r,value:t.name}),n.name&&i.name?Object(v.jsx)("div",{style:{color:"red"},children:n.name}):null]}),Object(v.jsxs)(u.a.Group,{style:{minWidth:200},as:o.a,controlId:"formGridSurname",children:[Object(v.jsx)(u.a.Label,{children:"P\u0159\xedjm\xe9n\xed"}),Object(v.jsx)(u.a.Control,{type:"text",name:"surname",placeholder:"Zadejte p\u0159\xedjmen\xed",onChange:r,value:t.surname}),n.surname&&i.surname?Object(v.jsx)("div",{style:{color:"red"},children:n.surname}):null]})]}),Object(v.jsxs)("div",{style:{paddingTop:30},className:"d-grid align-items-center",children:[Object(v.jsx)(h.a,{variant:"primary",type:"submit",disabled:c,size:"lg",children:"Zaregistovat se"}),a?Object(v.jsx)("div",{style:{color:"red",width:"100%",textAlign:"center"},children:a}):null]})]})}})}var I=n(108),z=n.n(I);function T(e){return Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(k,{page:"Home"}),Object(v.jsx)(l.a,{style:{height:"100%"},children:Object(v.jsx)(d.a,{style:{height:"100%"},children:Object(v.jsx)(o.a,{className:z.a.centerContent,children:Object(v.jsx)("div",{className:z.a.registerForm,children:Object(v.jsx)(N,{})})})})})]})}var L=n(69),P=n(72),A=n(2),U=n(14);function B(e){return Object(v.jsxs)(u.a,{onSubmit:e.handleSubmit,children:[Object(v.jsxs)(d.a,{className:"mb-3",children:[Object(v.jsxs)(u.a.Group,{style:{minWidth:200},as:o.a,controlId:"formGridEmail",children:[Object(v.jsx)(u.a.Label,{children:"E-mailov\xe1 adresa"}),Object(v.jsx)(u.a.Control,{type:"text",name:"email",placeholder:"Zadejte u\u017eivatelk\xe9 jm\xe9no",onChange:e.handleChange,value:e.values.email}),e.errors.email&&e.touched.email?Object(v.jsx)("div",{style:{color:"red"},children:e.errors.email}):null]}),Object(v.jsxs)(u.a.Group,{style:{minWidth:200},as:o.a,controlId:"formGridPassword",children:[Object(v.jsx)(u.a.Label,{children:"Heslo"}),Object(v.jsx)(u.a.Control,{type:"password",name:"password",placeholder:"Zadejte heslo",onChange:e.handleChange,value:e.values.password}),e.errors.password&&e.touched.password?Object(v.jsx)("div",{style:{color:"red"},children:e.errors.password}):null]})]}),Object(v.jsxs)(d.a,{className:"mb-3",children:[Object(v.jsxs)(u.a.Group,{style:{minWidth:200},as:o.a,controlId:"formGridName",children:[Object(v.jsx)(u.a.Label,{children:"Jm\xe9no"}),Object(v.jsx)(u.a.Control,{type:"text",name:"name",placeholder:"Zadejte jm\xe9no",onChange:e.handleChange,value:e.values.name}),e.errors.name&&e.touched.name?Object(v.jsx)("div",{style:{color:"red"},children:e.errors.name}):null]}),Object(v.jsxs)(u.a.Group,{style:{minWidth:200},as:o.a,controlId:"formGridSurname",children:[Object(v.jsx)(u.a.Label,{children:"P\u0159\xedjmen\xed"}),Object(v.jsx)(u.a.Control,{type:"text",name:"surname",placeholder:"Zadejte p\u0159\xedjmen\xed",onChange:e.handleChange,value:e.values.surname}),e.errors.surname&&e.touched.surname?Object(v.jsx)("div",{style:{color:"red"},children:e.errors.surname}):null]}),Object(v.jsxs)(u.a.Group,{style:{minWidth:200},as:o.a,controlId:"formGridRole",children:[Object(v.jsx)(u.a.Label,{children:"Role u\u017eivatele"}),Object(v.jsxs)(u.a.Select,{"aria-label":"V\xfdb\u011br rol\xed",name:"role_id",value:e.values.role_id,onChange:e.handleChange,children:[Object(v.jsx)("option",{children:"Vyberte roli"}),Object(v.jsx)("option",{value:"1",children:"Registrovan\xfd u\u017eivatel"}),Object(v.jsx)("option",{value:"2",children:"Licit\xe1tor"}),Object(v.jsx)("option",{value:"3",children:"Administr\xe1tor"})]}),e.errors.role_id&&e.touched.role_id?Object(v.jsx)("div",{style:{color:"red"},children:e.errors.role_id}):null]})]}),Object(v.jsxs)("div",{style:{wight:"100%"},children:[Object(v.jsx)(h.a,{variant:"primary",style:{maxWidth:200,marginInline:10,float:"right"},type:"submit",disabled:e.isSubmitting,children:"Ulo\u017eit zm\u011bny"}),Object(v.jsx)(h.a,{variant:"secondary",style:{maxWidth:200,marginInline:10,float:"right"},disabled:e.isSubmitting,onClick:e.onHide,children:"Zru\u0161it"})]})]})}function F(e){return Object(v.jsxs)(U.a,Object(A.a)(Object(A.a)({},e),{},{size:"lg","aria-labelledby":"contained-modal-title-vcenter",centered:!0,children:[Object(v.jsx)(U.a.Header,{closeButton:!0,children:Object(v.jsx)(U.a.Title,{style:{color:"#0d6efd"},id:"contained-modal-title-vcenter",children:"Tvorba nov\xe9ho u\u017eivatele"})}),Object(v.jsx)(U.a.Body,{children:Object(v.jsx)(b.a,{initialValues:{email:e.item.email,password:e.item.password,name:e.item.name,surname:e.item.surname,role_id:e.item.role_id},validate:function(e){var t={};return e.email?/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,4}$/i.test(e.email)||(t.email="Nespr\xe1vn\xfd form\xe1t e-mailov\xe9 adresy"):t.email="Nezadali jste e-mailovou adresu",e.password?e.password.length<8&&(t.password="Heslo je p\u0159\xedli\u0161 kr\xe1tk\xe9"):t.password="Nezadali jste heslo",e.name||(t.name="Nezadali jste jm\xe9no"),e.surname||(t.surname="Nezadali jste p\u0159\xedjmen\xed"),e.role_id||(t.role_id="Vyberte pros\xedm roli u\u017eivatele"),t},onSubmit:function(t,n){e.onSubmit(t,n)},children:function(t){var n=t.values,a=t.errors,i=t.status,r=t.touched,s=t.handleChange,c=t.handleSubmit,l=t.isSubmitting;return Object(v.jsx)(B,{onHide:e.onHide,values:n,errors:a,status:i,touched:r,handleChange:s,handleSubmit:c,isSubmitting:l})}})})]}))}function Z(e){return Object(v.jsxs)(U.a,Object(A.a)(Object(A.a)({},e),{},{size:"lg","aria-labelledby":"contained-modal-title-vcenter",centered:!0,children:[Object(v.jsx)(U.a.Header,{closeButton:!0,children:Object(v.jsx)(U.a.Title,{style:{color:"#0d6efd"},id:"contained-modal-title-vcenter",children:"Upraven\xed u\u017eivatele"})}),Object(v.jsx)(U.a.Body,{children:Object(v.jsx)(b.a,{initialValues:{id:e.item.id,email:e.item.email,password:e.item.password,name:e.item.name,surname:e.item.surname,role_id:e.item.role_id},validate:function(e){var t={};return e.email?/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,4}$/i.test(e.email)||(t.email="Nespr\xe1vn\xfd form\xe1t e-mailov\xe9 adresy"):t.email="Nezadali jste e-mailovou adresu",e.password?e.password.length<8&&(t.password="Heslo je p\u0159\xedli\u0161 kr\xe1tk\xe9"):t.password="Nezadali jste heslo",e.name||(t.name="Nezadali jste jm\xe9no"),e.surname||(t.surname="Nezadali jste p\u0159\xedjmen\xed"),e.role_id||(t.role_id="Vyberte pros\xedm roli u\u017eivatele"),t},onSubmit:function(t,n){e.onSubmit(t,n)},children:function(t){var n=t.values,a=t.errors,i=t.status,r=t.touched,s=t.handleChange,c=t.handleSubmit,l=t.isSubmitting;return Object(v.jsx)(B,{onHide:e.onHide,values:n,errors:a,status:i,touched:r,handleChange:s,handleSubmit:c,isSubmitting:l})}})})]}))}function G(e){return Object(v.jsxs)(U.a,Object(A.a)(Object(A.a)({},e),{},{"aria-labelledby":"contained-modal-title-vcenter",centered:!0,children:[Object(v.jsx)(U.a.Header,{closeButton:!0,children:Object(v.jsx)(U.a.Title,{style:{color:"#0d6efd"},children:"Vymazat u\u017eivatele"})}),Object(v.jsxs)(U.a.Body,{children:["Opravdu chcete vymazat u\u017eivatele: ",e.item.email]}),Object(v.jsxs)(U.a.Footer,{children:[Object(v.jsx)(h.a,{variant:"secondary",onClick:e.onHide,children:"Zru\u0161it"}),Object(v.jsx)(h.a,{variant:"danger",onClick:function(){return e.deleteUser(e)},children:"Vymazat"})]})]}))}var H=n(75),D=n.n(H);function E(e){var t=i.a.useState(null),n=Object(g.a)(t,2),a=n[0],r=n[1],s=i.a.useState(!1),c=Object(g.a)(s,2),j=c[0],u=c[1],b=i.a.useState([]),m=Object(g.a)(b,2),x=m[0],O=m[1];i.a.useEffect((function(){p()}),[]);var p=function(){return fetch("https://iis-api.herokuapp.com/users",{method:"GET",headers:{"Content-type":"application/json; charset=UTF-8",Authorization:"Bearer "+sessionStorage.getItem("accessToken")}}).then((function(e){return e.json()})).then((function(e){u(!0),O(e)}),(function(e){u(!0),r(e)}))},f=["Neregistrovan\xfd","U\u017eivatel","Licit\xe1tor","Administr\xe1tor"],y=i.a.useState(!1),_=Object(g.a)(y,2),k=_[0],C=_[1],w=i.a.useState(""),S=Object(g.a)(w,2),N=S[0],I=S[1],z=i.a.useState(!1),T=Object(g.a)(z,2),A=T[0],U=T[1],B=i.a.useState(""),H=Object(g.a)(B,2),E=H[0],V=H[1],W=i.a.useState(!1),R=Object(g.a)(W,2),J=R[0],K=R[1],M=i.a.useState(""),X=Object(g.a)(M,2),Y=X[0],$=X[1];return a?"SyntaxError: Unexpected token < in JSON at position 0"==a?Object(v.jsx)(v.Fragment,{children:Object(v.jsxs)(l.a,{className:D.a.fullCenterContent,children:[Object(v.jsx)("h1",{style:{fontSize:90},children:"Error 401"}),Object(v.jsx)("h2",{children:" Unauthorized"}),Object(v.jsx)(h.a,{variant:"primary",href:"/",size:"lg",style:{margin:20},children:"Home"})]})}):Object(v.jsx)(v.Fragment,{children:Object(v.jsxs)(l.a,{className:D.a.fullCenterContent,children:[Object(v.jsx)("h1",{style:{fontSize:90},children:"Unknown error"}),Object(v.jsx)(h.a,{variant:"primary",href:"/",size:"lg",style:{margin:20},children:"Home"})]})}):j?Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(l.a,{style:{paddingTop:70},children:Object(v.jsx)(d.a,{children:Object(v.jsxs)(o.a,{className:D.a.centerContent,children:[Object(v.jsx)("label",{style:{width:"100%",textAlign:"left",paddingBottom:40,color:"#0d6efd",fontSize:"30px"},children:"Seznam u\u017eivatel\u016f"}),Object(v.jsx)("div",{style:{width:"100%",overflow:"auto"},children:Object(v.jsxs)(L.a,{hover:!0,striped:!0,style:{textAlign:"center"},children:[Object(v.jsx)("thead",{children:Object(v.jsxs)("tr",{children:[Object(v.jsx)("th",{children:"ID"}),Object(v.jsx)("th",{children:"E-mail"}),Object(v.jsx)("th",{children:"Jm\xe9no"}),Object(v.jsx)("th",{children:"P\u0159\xedjmen\xed"}),Object(v.jsx)("th",{children:"Heslo"}),Object(v.jsx)("th",{children:"Role"}),Object(v.jsx)("th",{children:"Smazat"}),Object(v.jsx)("th",{children:"Upravit"})]})}),Object(v.jsx)("tbody",{children:x.map((function(e){return Object(v.jsxs)("tr",{children:[Object(v.jsx)("td",{children:e.id}),Object(v.jsx)("td",{children:e.email}),Object(v.jsx)("td",{children:e.name}),Object(v.jsx)("td",{children:e.surname}),Object(v.jsx)("td",{children:e.password}),Object(v.jsx)("td",{children:f[e.role_id]}),Object(v.jsx)("td",{children:Object(v.jsx)(h.a,{onClick:function(){return function(e){$(e),K(!0)}(e)},style:{border:0,backgroundColor:"#ffffff00"},children:Object(v.jsx)(P.a,{color:"#0d6efd",size:"20"})})}),Object(v.jsx)("td",{children:Object(v.jsx)(h.a,{onClick:function(){return function(e){V(e),U(!0)}(e)},style:{border:0,backgroundColor:"#ffffff00"},children:Object(v.jsx)(P.b,{color:"#0d6efd",size:"24"})})})]},e.id)}))})]})}),Object(v.jsx)("div",{style:{width:"100%",padding:"10px"},children:Object(v.jsx)(h.a,{variant:"primary",onClick:function(){return I({id:null,login:"",email:"",name:"",surname:"",password:"",role_id:null}),void C(!0)},children:"P\u0159idat nov\xe9ho u\u017eivatele"})})]})})}),Object(v.jsx)(F,{show:k,onHide:function(){return C(!1)},item:N,onSubmit:function(e,t){e.role_id=Number(e.role_id),fetch("https://iis-api.herokuapp.com/users",{method:"POST",headers:{"Content-type":"application/json; charset=UTF-8",Authorization:"Bearer "+sessionStorage.getItem("accessToken")},body:JSON.stringify(e)}).then((function(){p(),t.setSubmitting(!1),C(!1)}))}}),Object(v.jsx)(Z,{show:A,onHide:function(){return U(!1)},item:E,onSubmit:function(e,t){e.role_id=Number(e.role_id),fetch("https://iis-api.herokuapp.com/users",{method:"PUT",headers:{"Content-type":"application/json; charset=UTF-8",Authorization:"Bearer "+sessionStorage.getItem("accessToken")},body:JSON.stringify(e)}).then((function(){p(),t.setSubmitting(!1),U(!1)}))}}),Object(v.jsx)(G,{show:J,onHide:function(){return K(!1)},item:Y,deleteUser:function(e){fetch("https://iis-api.herokuapp.com/users/"+e.item.id,{headers:{"Content-type":"application/json; charset=UTF-8",Authorization:"Bearer "+sessionStorage.getItem("accessToken")},method:"DELETE"}).then((function(){p(),K(!1)}))}})]}):Object(v.jsx)(v.Fragment,{children:Object(v.jsxs)(l.a,{className:D.a.fullCenterContent,children:[Object(v.jsx)("h1",{style:{fontSize:90},children:"Loading"}),Object(v.jsx)(h.a,{variant:"primary",href:"/",size:"lg",style:{margin:20},children:"Home"})]})})}var V=n(115),W=n.n(V);function R(e){return Object(v.jsxs)(l.a,{className:W.a.centerContent,children:[Object(v.jsx)("h1",{style:{fontSize:90},children:"Error 404"}),Object(v.jsx)("h2",{children:" Page not found"}),Object(v.jsx)(h.a,{variant:"primary",href:"/",size:"lg",style:{margin:20},children:"Home"})]})}var J=n(70),K=n.n(J),M=n(38),X=n(45),Y=n.n(X);function $(e){return 2==e.state_id&&Date.now()>new Date(e.start_time)&&Date.now()<new Date(e.end_time)?"Aukce prob\xedh\xe1 do "+(null==e.end_time?"":new Date(e.end_time).toLocaleString("cs-CZ")):2==e.state_id&&Date.now()>new Date(e.end_time)?"Aukce byla ukon\u010dena, \u010dek\xe1 se na vyhodnocen\xed":["\u010cek\xe1 se na schv\xe1len\xed licit\xe1torem","Za\u010d\xe1tek napl\xe1nov\xe1n na "+(null==e.start_time?"":new Date(e.start_time).toLocaleString("cs-CZ")),"Zam\xedtnuta","Aukce p\u0159ed\u010dasn\u011b ukon\u010dena, \u010dek\xe1 se na vyhodnocen\xed","Aukce \xfasp\u011b\u0161n\u011b ukon\u010dena, v\xfdhercem je "+(null==e.winner_id?"":e.user_auction_winner_idTouser.name+" "+e.user_auction_winner_idTouser.surname)][e.state_id-1]}function Q(e){return e.userLogged&&e.user.role_id>=2?Object(v.jsx)(M.a.Footer,{children:Object(v.jsxs)("div",{className:Y.a.buttonsContainer,children:[Object(v.jsx)(h.a,{variant:"success",className:Y.a.buttonApprove,onClick:function(){return e.setChangeTime()},children:"Schv\xe1lit"})," ",Object(v.jsx)(h.a,{variant:"danger",className:Y.a.buttonReject,children:"Zam\xedtnout"})]})}):null}function q(e){return!e.userLogged||e.user.id==e.auctioneer_id||e.user.id==e.author_id||1!=e.state_id&&3!=e.state_id?null:Object(v.jsx)(v.Fragment,{children:Object(v.jsx)(M.a.Footer,{children:Object(v.jsx)(h.a,{variant:"primary",className:Y.a.buttonApprove,children:"Registrovat se"})})})}function ee(e){return e.userLogged&&(e.user.id==e.author_id&&0==e.state_id||3==e.user.role_id)?Object(v.jsx)(v.Fragment,{children:Object(v.jsx)(M.a.Footer,{children:Object(v.jsxs)(h.a,{variant:"danger",children:[Object(v.jsx)(P.a,{})," Smazat"]})})}):null}function te(e){var t=_(),n=(t.setIsLoggedIn,t.User),a=t.IsLoggedIn,i=(t.setUser,function(e){var t={"Typ:":e.is_demand?"Popt\xe1vkov\xe1":"Nab\xeddkov\xe1","Pravidla:":e.is_open?"Otev\u0159en\xe1":"Uzav\u0159en\xe1","Licit\xe1tor:":null==e.auctioneer_id?"Nep\u0159i\u0159azen":"Bohu\u0161"};return t[e.is_open?"Aktu\xe1ln\xed cena:":"Vyvol\xe1vac\xed cena:"]=e.price+"K\u010d",t}(e));return Object(v.jsxs)(M.a,{style:{width:400},children:[Object(v.jsxs)(m.b,{to:e.link,children:[Object(v.jsx)(M.a.Img,{variant:"top",src:0==e.photos.length?"https://www.signfix.com.au/wp-content/uploads/2017/09/placeholder-600x400.png":e.photos[0]}),Object(v.jsxs)(M.a.Body,{children:[Object(v.jsx)(M.a.Title,{className:Y.a.cardTitle,children:e.name}),Object(v.jsx)(M.a.Text,{children:Object.keys(i).map((function(e){return Object(v.jsxs)("div",{className:Y.a.cardItem,children:[" ",Object(v.jsx)("strong",{children:e})," ",i[e],Object(v.jsx)("br",{})]})}))})]}),Object(v.jsx)(M.a.Footer,{children:Object(v.jsx)("span",{className:Y.a.cardText,children:Object(v.jsx)($,Object(A.a)({},e))})})]}),0==e.state_id&&Object(v.jsx)(Q,Object(A.a)({user:n,userLogged:a},e)),Object(v.jsx)(q,Object(A.a)({userLogged:a,user:n},e)),Object(v.jsx)(ee,Object(A.a)({userLogged:a,user:n},e))]})}function ne(e){return Object(v.jsxs)(u.a,{onSubmit:e.handleSubmit,encType:"multipart/form-data",children:[Object(v.jsxs)(d.a,{className:"mb-3",children:[Object(v.jsxs)(u.a.Group,{style:{minWidth:200},as:o.a,controlId:"formGridName",children:[Object(v.jsxs)(u.a.Label,{children:["N\xe1zev aukce",Object(v.jsx)("label",{style:{color:"red"},children:"*"})]}),Object(v.jsx)(u.a.Control,{type:"text",name:"name",placeholder:"Zadejte u\u017eivatelk\xe9 jm\xe9no",onChange:e.handleChange,value:e.values.name}),e.errors.name&&e.touched.name?Object(v.jsx)("div",{style:{color:"red"},children:e.errors.name}):null]}),Object(v.jsxs)(u.a.Group,{style:{minWidth:200},as:o.a,controlId:"formGridType",children:[Object(v.jsxs)(u.a.Label,{children:["Typ aukce",Object(v.jsx)("label",{style:{color:"red"},children:"*"})]}),Object(v.jsxs)(u.a.Select,{"aria-label":"V\xfdb\u011br typu",name:"is_demand",value:e.values.is_demand,onChange:e.handleChange,children:[Object(v.jsx)("option",{children:"Vyberte typ aukce"}),Object(v.jsx)("option",{value:"true",children:"Popt\xe1vkov\xe1"}),Object(v.jsx)("option",{value:"false",children:"Nab\xeddkov\xe1"})]}),e.errors.is_demand&&e.touched.is_demand?Object(v.jsx)("div",{style:{color:"red"},children:e.errors.is_demand}):null]}),Object(v.jsxs)(u.a.Group,{style:{minWidth:200},as:o.a,controlId:"formGridType",children:[Object(v.jsxs)(u.a.Label,{children:["Pravidla aukce",Object(v.jsx)("label",{style:{color:"red"},children:"*"})]}),Object(v.jsxs)(u.a.Select,{"aria-label":"V\xfdb\u011br typu",name:"is_open",value:e.values.is_open,onChange:e.handleChange,children:[Object(v.jsx)("option",{children:"Vyberte typ aukce"}),Object(v.jsx)("option",{value:"true",children:"Otev\u0159en\xe1"}),Object(v.jsx)("option",{value:"false",children:"Uzav\u0159en\xe1"})]}),e.errors.is_open&&e.touched.is_open?Object(v.jsx)("div",{style:{color:"red"},children:e.errors.is_open}):null]})]}),Object(v.jsxs)(d.a,{className:"mb-3",children:[Object(v.jsxs)(u.a.Group,{style:{minWidth:200},as:o.a,controlId:"formGridPrice",children:[Object(v.jsxs)(u.a.Label,{children:["Vyvol\xe1vac\xed cena",Object(v.jsx)("label",{style:{color:"red"},children:"*"})]}),Object(v.jsx)(u.a.Control,{type:"number",name:"price",placeholder:"Zadejte vyvol\xe1vac\xed cenu",onChange:e.handleChange}),e.errors.price&&e.touched.price?Object(v.jsx)("div",{style:{color:"red"},children:e.errors.price}):null]}),Object(v.jsxs)(u.a.Group,{style:{minWidth:200},as:o.a,controlId:"formGridMinBid",children:[Object(v.jsx)(u.a.Label,{children:"Minim\xe1ln\xed p\u0159\xedhoz"}),Object(v.jsx)(u.a.Control,{type:"number",placeholder:"Toto pole nemus\xed b\xfdt zadan\xe9",name:"mim_bid",onChange:e.handleChange,value:e.values.min_bid})]}),Object(v.jsxs)(u.a.Group,{style:{minWidth:200},as:o.a,controlId:"formGridMaxBid",children:[Object(v.jsx)(u.a.Label,{children:"Maxim\xe1ln\xed p\u0159\xedhoz"}),Object(v.jsx)(u.a.Control,{type:"number",placeholder:"Toto pole nemus\xed b\xfdt zadan\xe9",name:"max_bid",onChange:e.handleChange,value:e.values.max_bid})]})]}),Object(v.jsx)(d.a,{className:"mb-3",children:Object(v.jsxs)(u.a.Group,{style:{minWidth:200},as:o.a,controlId:"formFile",children:[Object(v.jsxs)(u.a.Label,{children:["Obr\xe1zky",Object(v.jsx)("label",{style:{color:"red"},children:"*"})]}),Object(v.jsx)(u.a.Control,{type:"file",accept:"image/*",multiple:!0,name:"files",onChange:function(t){e.setFieldValue("files",t.target.files)}}),e.errors.files&&e.touched.files?Object(v.jsx)("div",{style:{color:"red"},children:e.errors.files}):null]})}),Object(v.jsx)(d.a,{className:"mb-3",children:Object(v.jsxs)(u.a.Group,{style:{minWidth:200},as:o.a,controlId:"formGridDescription",children:[Object(v.jsxs)(u.a.Label,{children:["Popisek",Object(v.jsx)("label",{style:{color:"red"},children:"*"})]}),Object(v.jsx)(u.a.Control,{as:"textarea",name:"description",placeholder:"Zadejte popisek",onChange:e.handleChange,value:e.values.description}),e.errors.description&&e.touched.description?Object(v.jsx)("div",{style:{color:"red"},children:e.errors.description}):null]})}),Object(v.jsxs)("div",{children:[Object(v.jsx)("label",{style:{color:"red"},children:"* po\u017eadovan\xe9 pole"}),Object(v.jsx)(h.a,{variant:"primary",style:{maxWidth:200,marginInline:10,float:"right"},type:"submit",disabled:e.isSubmitting,children:"Ulo\u017eit zm\u011bny"}),Object(v.jsx)(h.a,{variant:"secondary",style:{maxWidth:200,marginInline:10,float:"right"},disabled:e.isSubmitting,onClick:e.onHide,children:"Zru\u0161it"})]})]})}function ae(e){return Object(v.jsxs)(U.a,Object(A.a)(Object(A.a)({},e),{},{size:"lg","aria-labelledby":"contained-modal-title-vcenter",centered:!0,children:[Object(v.jsx)(U.a.Header,{closeButton:!0,children:Object(v.jsx)(U.a.Title,{style:{color:"#0d6efd"},id:"contained-modal-title-vcenter",children:"Tvorba nov\xe9 aukce"})}),Object(v.jsx)(U.a.Body,{children:Object(v.jsx)(b.a,{initialValues:{name:e.item.name,is_open:e.item.is_open,is_demand:e.item.is_demand,price:e.item.price,min_bid:e.item.min_bid,max_bid:e.item.max_bid,description:e.item.description,files:e.item.files},validate:function(e){var t={};return e.name||(t.name="Nezadali jste jm\xe9no aukce"),e.is_open||(t.is_open="Vyberte pros\xedm typ aukce"),e.is_demand||(t.is_demand="Vyberte pros\xedm pravidla aukce"),e.price||(t.price="Nezadali jste vyvol\xe1vac\xed cenu"),e.files||(t.files="Nevybrali jste \u017e\xe1dn\xfd obr\xe1zek"),e.description||(t.description="Nezadali jste popisek"),t},onSubmit:function(t,n){e.onSubmit(t,n)},children:function(t){var n=t.values,a=t.errors,i=(t.status,t.touched),r=t.handleChange,s=t.handleSubmit,c=t.isSubmitting,l=t.setFieldValue;return Object(v.jsx)(ne,{onHide:e.onHide,values:n,errors:a,touched:i,handleChange:r,handleSubmit:s,isSubmitting:c,setFieldValue:l})}})})]}))}function ie(e){return Object(v.jsxs)(u.a,{onSubmit:e.handleSubmit,children:[Object(v.jsxs)(d.a,{className:"mb-3",children:[Object(v.jsxs)(u.a.Group,{style:{minWidth:200},as:o.a,controlId:"formGridStartTime",children:[Object(v.jsx)(u.a.Label,{children:"\u010cas za\u010d\xe1tku aukce"}),Object(v.jsx)(u.a.Control,{type:"datetime-local",name:"start_time",placeholder:"Zadejte \u010das za\u010d\xe1tku aukce",onChange:e.handleChange,value:e.values.start_time}),e.errors.start_time&&e.touched.start_time?Object(v.jsx)("div",{style:{color:"red"},children:e.errors.start_time}):null]}),Object(v.jsxs)(u.a.Group,{style:{minWidth:200},as:o.a,controlId:"formGridEndTime",children:[Object(v.jsx)(u.a.Label,{children:"\u010cas konce aukce"}),Object(v.jsx)(u.a.Control,{type:"datetime-local",name:"end_time",placeholder:"Zadejte \u010das konce aukce",onChange:e.handleChange,value:e.values.end_time}),e.errors.end_time&&e.touched.end_time?Object(v.jsx)("div",{style:{color:"red"},children:e.errors.end_time}):null]})]}),Object(v.jsxs)("div",{children:[Object(v.jsx)(h.a,{variant:"primary",style:{maxWidth:200,marginInline:10,float:"right"},type:"submit",disabled:e.isSubmitting,children:"Ulo\u017eit zm\u011bny"}),Object(v.jsx)(h.a,{variant:"secondary",style:{maxWidth:200,marginInline:10,float:"right"},disabled:e.isSubmitting,onClick:e.onHide,children:"Zru\u0161it"})]})]})}function re(e){return Object(v.jsxs)(U.a,Object(A.a)(Object(A.a)({},e),{},{size:"lg","aria-labelledby":"contained-modal-title-vcenter",centered:!0,children:[Object(v.jsx)(U.a.Header,{closeButton:!0,children:Object(v.jsx)(U.a.Title,{style:{color:"#0d6efd"},id:"contained-modal-title-vcenter",children:"Nastaven\xed \u010dasu aukce"})}),Object(v.jsx)(U.a.Body,{children:Object(v.jsx)(b.a,{initialValues:{start_time:e.start_time,end_time:e.end_time},validate:function(e){var t={};return e.start_time||(t.start_time="Nenastavili jste za\u010d\xe1tek aukce"),e.end_time||(t.end_time="Nenastavili jste konec aukce"),t},onSubmit:function(t,n){setTimeout((function(){n.setSubmitting(!1),e.onHide()}),2e3)},children:function(t){var n=t.values,a=t.errors,i=(t.status,t.touched),r=t.handleChange,s=t.handleSubmit,c=t.isSubmitting,l=t.setFieldValue;return Object(v.jsx)(ie,{onHide:e.onHide,values:n,errors:a,touched:i,handleChange:r,handleSubmit:s,isSubmitting:c,setFieldValue:l})}})})]}))}function se(e){var t=i.a.useState(!1),n=Object(g.a)(t,2),r=n[0],s=n[1],c=i.a.useState(""),o=Object(g.a)(c,2),d=o[0],j=o[1],u=function(e){j(e),s(!0)},b=i.a.useState(!1),m=Object(g.a)(b,2),x=m[0],O=m[1],p=i.a.useState(""),f=Object(g.a)(p,2),y=f[0],k=f[1],C=_(),w=(C.setIsLoggedIn,C.User,C.IsLoggedIn,C.setUser,Object(a.useState)(null)),S=Object(g.a)(w,2),N=S[0],I=S[1],z=Object(a.useState)(!1),T=Object(g.a)(z,2),L=T[0],P=T[1],U=Object(a.useState)([]),B=Object(g.a)(U,2),F=B[0],Z=B[1];return Object(a.useEffect)((function(){fetch("https://iis-api.herokuapp.com/auctions").then((function(e){return e.json()})).then((function(e){P(!0),Z(e)}),(function(e){P(!0),I(e)}))}),[]),N?Object(v.jsxs)("div",{children:["Error: ",N.message]}):L?Object(v.jsxs)(v.Fragment,{children:[Object(v.jsxs)(l.a,{className:"mainContainer",children:[Object(v.jsx)("h1",{children:"P\u0159ehled aukc\xed"}),Object(v.jsx)("div",{style:{width:"100%",padding:"10px"},children:Object(v.jsx)(h.a,{variant:"primary",onClick:function(){return k({id:null,name:"",is_demand:null,is_open:null,price:null,author_id:null,auctioneer_id:null,start_time:null,end_time:null,description:"",photos:null,winner_id:null,state_id:null,min_bid:null,max_bid:null}),void O(!0)},children:"P\u0159idat novou aukci"})}),Object(v.jsx)(l.a,{className:K.a.flexContainer,children:F.map((function(e){return console.log(e),Object(v.jsx)("div",{style:{padding:15},children:Object(v.jsx)(te,Object(A.a)(Object(A.a)({},e),{},{setChangeTime:u,link:"/auction-detail/"+e.id}))})}))})]}),Object(v.jsx)(ae,{show:x,onHide:function(){return O(!1)},item:y}),Object(v.jsx)(re,Object(A.a)({show:r,onHide:function(){return s(!1)}},d))]}):Object(v.jsx)("div",{children:"Loading..."})}var ce=n(109),le=n(117),oe=n(76),de=n(67),je=n(48),ue=n.n(je),he=n(116),be=n.n(he);function me(){return Object(v.jsx)(v.Fragment,{children:Object(v.jsxs)(u.a,{style:{paddingTop:25},children:[Object(v.jsxs)(oe.a,{className:"mb-3",children:[Object(v.jsx)(de.a,{style:{maxWidth:250},placeholder:"V\xfd\u0161e nab\xeddky","aria-label":"V\xfd\u0161e nab\xeddky","aria-describedby":"basic-addon1",type:"number"}),Object(v.jsx)(oe.a.Text,{id:"basic-addon1",children:"CZK"})]}),Object(v.jsx)("div",{children:Object(v.jsx)(h.a,{variant:"primary",type:"submit",children:"Odeslat nab\xeddku"})})]})})}function xe(e){return Object(v.jsxs)(u.a,{children:[e.BidPriceEditing?Object(v.jsxs)(oe.a,{className:"mb-3",children:[Object(v.jsx)(de.a,{style:{maxWidth:250},placeholder:"Nov\xe1 cena","aria-label":"Nov\xe1 cena","aria-describedby":"basic-addon1",value:e.BidPrice,onChange:function(t){e.setBidPrice(t.target.value)},type:"number",disabled:!e.BidPriceEditing}),Object(v.jsx)(oe.a.Text,{id:"basic-addon1",children:"CZK"})]}):Object(v.jsxs)("p",{children:[Object(v.jsx)("strong",{children:"Va\u0161e nab\xeddka:"})," ",""==e.LastBidPrice?"Zat\xedm jste nezadal \u017e\xe1dnou nab\xeddku":e.LastBidPrice+" K\u010d","  "]}),Object(v.jsx)("div",{children:e.BidPriceEditing?Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(h.a,{variant:"primary",onClick:function(){e.setBidPriceEditing(!1),e.setLastBidPrice(e.BidPrice)},children:"Potvrdit novou nab\xeddku"})," ",Object(v.jsx)(h.a,{variant:"secondary",onClick:function(){e.setBidPriceEditing(!1),e.setBidPrice(e.LastBidPrice)},children:"Zru\u0161it"})]}):Object(v.jsx)(v.Fragment,{children:Object(v.jsx)(h.a,{variant:"primary",onClick:function(){return e.setBidPriceEditing(!0)},children:"Upravit nab\xeddku"})})})]})}function Oe(e){return e.User.id==e.auctioneer_id&&Date.now()>=new Date(e.end_time)?Object(v.jsx)("div",{style:{flex:.3,padding:35},children:Object(v.jsx)(h.a,{variant:"primary",children:"Ukon\u010dit a ur\u010dit v\xfdherce"})}):null}function pe(e){var t;return t=e.is_open&&1!=e.state_id&&0!=e.bidders.length?"Aktu\xe1ln\xed cena: "+e.bid[e.bid.length-1].price+" K\u010d":"Vyvol\xe1vac\xed cena: "+e.price+" K\u010d",Object(v.jsx)("div",{className:ue.a.priceStyle,children:t})}function ge(e){return e.UserLogged&&e.User.id!=e.auctioneer_id&&2==e.state_id&&Date.now()>new Date(e.start_time)&&Date.now()<new Date(e.end_time)?e.is_open?Object(v.jsx)(me,{}):Object(v.jsx)(xe,Object(A.a)({},e)):null}function ve(e){return Object(v.jsx)(v.Fragment,{children:Object(v.jsxs)(L.a,{striped:!0,style:{textAlign:"center"},children:[Object(v.jsx)("thead",{children:Object(v.jsxs)("tr",{children:[Object(v.jsx)("th",{id:"jmeno",children:"Jm\xe9no"}),Object(v.jsx)("th",{children:"P\u0159\xedjmen\xed"}),Object(v.jsx)("th",{children:"\u010c\xe1stka"})]})}),Object(v.jsx)("tbody",{children:e.bid&&e.bid.map((function(e){return Object(v.jsxs)("tr",{children:[Object(v.jsx)("td",{children:e.user.name}),Object(v.jsx)("td",{children:e.user.surname}),Object(v.jsxs)("td",{children:[e.price," K\u010d"]})]})}))})]},"jmeno")})}function fe(e){return e.bidders&&(console.log("sdfsdf"),e.bidders.sort((function(e,t){return e.user.surname<t.user.surname?1:e.user.surname>t.user.surname?-1:0}))),console.log(e.bidders),Object(v.jsx)(v.Fragment,{children:Object(v.jsxs)(L.a,{striped:!0,style:{textAlign:"center"},children:[Object(v.jsx)("thead",{children:Object(v.jsxs)("tr",{children:[Object(v.jsx)("th",{children:"Jm\xe9no"}),Object(v.jsx)("th",{children:"P\u0159\xedjmen\xed"}),e.userLogged&&e.User.role_id>=2?Object(v.jsx)("th",{children:"Stav registrace"}):""]})}),Object(v.jsx)("tbody",{children:e.bidders&&e.bidders.map((function(t){return Object(v.jsxs)("tr",{children:[Object(v.jsx)("td",{children:t.user.name}),Object(v.jsx)("td",{children:t.user.surname}),e.UserLogged&&e.User.role_id>=2?Object(v.jsx)("td",{children:t.is_approved?Object(v.jsx)(h.a,{variant:"danger",onClick:function(){return e.approveBidder(e.id,t.user.id,!1)},children:"Zru\u0161it registraci"}):Object(v.jsx)(h.a,{variant:"primary",onClick:function(){return e.approveBidder(e.id,t.user.id,!0)},children:"Schv\xe1lit registraci"})}):""]})}))})]})})}function ye(e){var t=Object(a.useState)(!1),n=Object(g.a)(t,2),i=n[0],r=n[1],s=Object(a.useState)(""),o=Object(g.a)(s,2),d=o[0],j=o[1],u=Object(a.useState)(""),h=Object(g.a)(u,2),b=h[0],m=h[1],x=_(),O=(x.setIsLoggedIn,x.User),p=x.IsLoggedIn,f=(x.setUser,Object(c.g)().auctionId),y=Object(a.useState)(null),k=Object(g.a)(y,2),C=k[0],w=k[1],S=Object(a.useState)(!1),N=Object(g.a)(S,2),I=N[0],z=N[1],T=Object(a.useState)([]),L=Object(g.a)(T,2),P=L[0],U=L[1],B=function(){return fetch("https://iis-api.herokuapp.com/auctions/"+f).then((function(e){return e.json()})).then((function(e){z(!0),U(e)}),(function(e){z(!0),w(e)}))};Object(a.useEffect)((function(){B()}),[]);var F=[];for(var Z in P.photos)F[Z]={url:P.photos[Z]};0==F.length&&(F=[{url:"https://www.signfix.com.au/wp-content/uploads/2017/09/placeholder-600x400.png"}]);var G=3==P.state_id||2==P.state_id&&new Date(P.start_time)>Date.now();return C?Object(v.jsxs)("div",{children:["Error: ",C.message]}):I?Object(v.jsxs)(v.Fragment,{children:[3==P.state_id&&Object(v.jsx)("span",{style:{color:"#dc3545"},className:ue.a.textStateCenter,children:"Aukce nebyla schv\xe1lena"}),2==P.state_id&&new Date(P.start_time)>Date.now()&&Object(v.jsxs)("span",{style:{color:"#0d6efd"},className:ue.a.textStateCenter,children:["Aukce za\u010dne ",new Date(P.start_time).toLocaleString("cs-CZ")]}),Object(v.jsxs)(l.a,{className:"mainContainer",style:G?{opacity:.25}:{opacity:1},children:[Object(v.jsxs)("div",{style:{display:"flex"},children:[Object(v.jsxs)("div",{style:{flex:.7},children:[Object(v.jsx)("h1",{style:{paddingBottom:0},children:P.name}),Object(v.jsx)("h4",{style:{paddingBottom:25},children:P.is_demand?"Popt\xe1vkov\xe1 aukce":"Nab\xeddkov\xe1 aukce"})]}),Object(v.jsx)(Oe,Object(A.a)({User:O},P))]}),Object(v.jsxs)(l.a,{style:{display:"flex"},children:[Object(v.jsx)("div",{style:{flex:1,paddingRight:100,width:300,height:300,position:"relative"},children:Object(v.jsx)(be.a,{width:550,height:309,images:F,showBullets:!0,showNavs:!0})}),Object(v.jsxs)("div",{style:{flex:1},children:[Object(v.jsxs)("p",{children:[Object(v.jsx)("strong",{children:"Popis: "}),P.description]}),Object(v.jsx)(pe,Object(A.a)({},P)),Object(v.jsxs)("div",{className:ue.a.auctionInfoItem,children:[Object(v.jsx)("strong",{children:"Konec aukce: "}),1==P.state_id?"Neur\u010den":new Date(P.end_time).toLocaleString("cs-CZ")]}),Object(v.jsxs)("div",{className:ue.a.auctionInfoItem,children:[Object(v.jsx)("strong",{children:"Typ:"})," ",P.is_demand?"Popt\xe1vkov\xe1":"Nab\xeddkov\xe1"]}),Object(v.jsxs)("div",{className:ue.a.auctionInfoItem,children:[Object(v.jsx)("strong",{children:"Pravidla:"})," ",P.is_open?"Otev\u0159en\xe1":"Uzav\u0159en\xe1"]}),Object(v.jsx)(ge,Object(A.a)(Object(A.a)({},P),{},{UserLogged:p,User:O,BidPriceEditing:i,setBidPriceEditing:r,LastBidPrice:d,setLastBidPrice:j,BidPrice:b,setBidPrice:m}))]})]}),Object(v.jsx)("div",{style:{marginTop:100},children:Object(v.jsxs)(le.a,{defaultActiveKey:P.is_open?"History":"RegisteredUsers",id:"uncontrolled-tab-example",className:"mb-3",children:[P.is_open&&new Date(P.start_time)<=Date.now()&&Object(v.jsxs)(ce.a,{eventKey:"History",title:"Historie nab\xeddek",children:[Object(v.jsx)("h2",{children:"Historie nab\xeddek"}),Object(v.jsx)(ve,Object(A.a)({},P))]}),Object(v.jsxs)(ce.a,{eventKey:"RegisteredUsers",title:"Registrov\xe1n\xed u\u017eivatel\xe9 v aukci",children:[Object(v.jsx)("h2",{children:"Registrov\xe1n\xed u\u017eivatel\xe9 v aukci"}),Object(v.jsx)(fe,Object(A.a)(Object(A.a)({},P),{},{User:O,UserLogged:p,approveBidder:function(e,t,n){return fetch("https://iis-api.herokuapp.com/bidders/",{method:"PUT",headers:{"Content-type":"application/json; charset=UTF-8",Authorization:"Bearer "+sessionStorage.getItem("accessToken")},body:JSON.stringify({auction_id:e,user_id:t,is_approved:n})}).then((function(e){return e.text()})).then((function(e){return console.log(e)})).then((function(){return B()}))}}))]})]})})]})]}):Object(v.jsx)("div",{children:"Loading..."})}function _e(){var e=[{id:0,name:"Aukce A",is_demand:!1,is_open:!0,price:12354,author_id:1,auctioneer_id:2,start_time:new Date(2021,12,20,10,0,0,0),end_time:new Date(2021,12,2,10,0,0,0),description:"Skv\u011bl\xe1 aukce o v\u011bc v hodnot\u011b milion\u016f!",photos:["https://www.signfix.com.au/wp-content/uploads/2017/09/placeholder-600x400.png","https://pbs.twimg.com/profile_images/949787136030539782/LnRrYf6e_400x400.jpg","https://pbs.twimg.com/media/E12BaOYXMAQeV9a.jpg","https://c8.alamy.com/comp/EPF1YW/nun-with-handgun-isolated-on-white-EPF1YW.jpg","https://ichef.bbci.co.uk/news/976/cpsprodpb/13F00/production/_95146618_bills.jpg"],winner_id:null,state_id:1,min_bid:250,max_bid:null}],t=[{id:3,name:"Aukce D",is_demand:!1,is_open:!0,price:5613,author_id:0,auctioneer_id:2,start_time:new Date(2021,11,18,10,0,0,0),end_time:new Date(2021,11,22,10,0,0,0),description:"Skv\u011bl\xe1 aukce o v\u011bc v hodnot\u011b milion\u016f!",photos:["https://www.signfix.com.au/wp-content/uploads/2017/09/placeholder-600x400.png"],winner_id:null,state_id:3,min_bid:250,max_bid:null},{id:4,name:"Aukce D",is_demand:!1,is_open:!0,price:5613,author_id:0,auctioneer_id:1,start_time:new Date(2021,10,17,10,0,0,0),end_time:new Date(2021,10,18,10,0,0,0),description:"Skv\u011bl\xe1 aukce o v\u011bc v hodnot\u011b milion\u016f!",photos:["https://www.signfix.com.au/wp-content/uploads/2017/09/placeholder-600x400.png"],winner_id:null,state_id:1,min_bid:250,max_bid:null}];return Object(v.jsx)(v.Fragment,{children:Object(v.jsxs)(l.a,{className:"mainContainer",children:[Object(v.jsx)("h1",{children:"Bohu\u0161 Vesel\xfd"}),Object(v.jsxs)("div",{style:{fontSize:20},children:[Object(v.jsx)("p",{children:"Email: Bohu\u0161@email.cz"}),Object(v.jsx)("p",{children:"Role: Registrovan\xfd u\u017eivatel"})]}),Object(v.jsxs)(le.a,{defaultActiveKey:"MyAuctions",id:"uncontrolled-tab-example",className:"mb-3",children:[Object(v.jsxs)(ce.a,{eventKey:"MyAuctions",title:"Moje aukce",children:[Object(v.jsx)("h2",{children:"Moje aukce"}),Object(v.jsx)(l.a,{className:K.a.flexContainer,children:e.map((function(e){return Object(v.jsx)("div",{style:{padding:15},children:Object(v.jsx)(te,Object(A.a)(Object(A.a)({},e),{},{link:"/auction-detail/"+e.id}))})}))})]}),Object(v.jsxs)(ce.a,{eventKey:"FollowedAuctions",title:"Aukce, kter\xfdch se \xfa\u010dastn\xedm",children:[Object(v.jsx)("h2",{children:"Sledovan\xe9 aukce"}),Object(v.jsx)(l.a,{className:K.a.flexContainer,children:t.map((function(e){return Object(v.jsx)("div",{style:{padding:15},children:Object(v.jsx)(te,Object(A.a)(Object(A.a)({},e),{},{link:"/auction-detail/"+e.id}))})}))})]})]})]})})}function ke(){var e=Object(c.e)().pathname;return Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(k,{page:e}),Object(v.jsxs)(c.c,{children:[Object(v.jsx)(c.a,{path:"/",element:Object(v.jsx)(se,{})}),Object(v.jsx)(c.a,{path:"/login",element:Object(v.jsx)(S,{})}),Object(v.jsx)(c.a,{path:"/register",element:Object(v.jsx)(T,{})}),Object(v.jsx)(c.a,{path:"/user-profile",element:Object(v.jsx)(_e,{})}),Object(v.jsx)(c.a,{path:"/auction-detail/:auctionId",element:Object(v.jsx)(ye,{})}),Object(v.jsx)(c.a,{path:"/usr-man",element:Object(v.jsx)(E,{})}),Object(v.jsx)(c.a,{path:"*",element:Object(v.jsx)(R,{})})]})]})}var Ce=function(){return Object(v.jsx)(ke,{})};s.a.render(Object(v.jsx)(i.a.StrictMode,{children:Object(v.jsx)(m.a,{children:Object(v.jsx)(y,{children:Object(v.jsx)(Ce,{})})})}),document.getElementById("root"))},45:function(e,t,n){e.exports={cardItem:"previewCard_cardItem__1Adpc",buttonApprove:"previewCard_buttonApprove__2BeGC",buttonReject:"previewCard_buttonReject__2LvOa",buttonsContainer:"previewCard_buttonsContainer__2UNHD",rejectedText:"previewCard_rejectedText__3pu_N",approvedText:"previewCard_approvedText__KjD97",cardTitle:"previewCard_cardTitle__oDzau",notApproved:"previewCard_notApproved__TQWGr",cardText:"previewCard_cardText__39SsU"}},48:function(e,t,n){e.exports={auctionInfoItem:"AuctionDetailPage_auctionInfoItem__ptXwU",priceStyle:"AuctionDetailPage_priceStyle__3XK4d",textStateCenter:"AuctionDetailPage_textStateCenter__1oXtt"}},70:function(e,t,n){e.exports={flexContainer:"AuctionsPage_flexContainer__1Z2qb"}},75:function(e,t,n){e.exports={centerContent:"UserManagementPage_centerContent__1_Ysm",bg:"UserManagementPage_bg__3Vl1k",fullCenterContent:"UserManagementPage_fullCenterContent__3lR2d"}}},[[133,1,2]]]);