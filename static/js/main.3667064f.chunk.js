(this["webpackJsonpiis-web"]=this["webpackJsonpiis-web"]||[]).push([[0],{108:function(e,t,n){e.exports={centerContent:"LoginPage_centerContent__HlTp6",loginForm:"LoginPage_loginForm__XLz7O"}},109:function(e,t,n){e.exports={centerContent:"RegisterPage_centerContent__tA340",registerForm:"RegisterPage_registerForm__1uL4m"}},111:function(e,t,n){},116:function(e,t,n){e.exports={centerContent:"UserManagementPage_centerContent__1_Ysm",bg:"UserManagementPage_bg__3Vl1k",fullCenterContent:"UserManagementPage_fullCenterContent__3lR2d"}},117:function(e,t,n){e.exports={fullCenterContent:"Loading_fullCenterContent__I-8ua"}},118:function(e,t,n){e.exports={centerContent:"NotFoundPage_centerContent__1NeNb"}},120:function(e,t,n){e.exports={centerContent:"ErrorPage_centerContent__1cZEM"}},138:function(e,t,n){"use strict";n.r(t);var i=n(1),a=n.n(i),r=n(40),s=n.n(r),c=(n(111),n(3)),o=n(9),l=n(20),d=n(10),u=n(17),j=n(59),b=n(7),h=n(8),m=n(22),p=n(15),O=n(77),x=n(35),v=n(102),g=n(0),f=Object(i.createContext)({}),y=function(e){var t=e.children,n=Object(i.useState)(!1),a=Object(c.a)(n,2),r=a[0],s=a[1],o=Object(i.useState)({}),l=Object(c.a)(o,2),d={IsLoggedIn:r,setIsLoggedIn:s,User:l[0],setUser:l[1]};return Object(g.jsx)(f.Provider,{value:d,children:t})},_=function(){return Object(i.useContext)(f)};function k(e){var t=_(),n=t.setIsLoggedIn,i=t.User,a=t.IsLoggedIn,r=t.setUser,s=Object(o.f)();return Object(g.jsx)(O.a,{collapseOnSelect:!0,fixed:"top",expand:"lg",bg:"dark",variant:"dark",children:Object(g.jsxs)(l.a,{children:[Object(g.jsx)(O.a.Brand,{as:p.b,to:"/",children:"Aukce"}),Object(g.jsx)(O.a.Toggle,{"aria-controls":"responsive-navbar-nav"}),Object(g.jsx)(O.a.Collapse,{id:"responsive-navbar-nav",children:Object(g.jsxs)(x.a,{className:"ms-auto",children:[Object(g.jsx)(x.a.Item,{children:Object(g.jsx)(x.a.Link,{as:p.b,to:"/",style:"/"===e.page?{color:"white"}:{},children:" Seznam aukc\xed"})}),a&&3==i.role_id&&Object(g.jsx)(x.a.Item,{children:Object(g.jsx)(x.a.Link,{as:p.b,to:"/usr-man",style:"/usr-man"===e.page?{color:"white"}:{},children:" Spr\xe1va u\u017eivatel\u016f"})}),a?Object(g.jsx)(g.Fragment,{children:Object(g.jsx)(x.a.Item,{children:Object(g.jsxs)(v.a,{align:"end",menuVariant:"dark",title:i.name,id:"collasible-nav-dropdown",children:[Object(g.jsx)(v.a.Item,{as:p.b,to:"/user-profile",style:"/user-profile"===e.page?{color:"white"}:{},children:" M\u016fj profil "}),Object(g.jsx)(v.a.Item,{onClick:function(){n(!1),r({}),sessionStorage.removeItem("accessToken"),s("/")},children:" Odhl\xe1sit se"})]})})}):Object(g.jsx)(g.Fragment,{children:Object(g.jsx)(x.a.Item,{style:{borderRadius:5,backgroundColor:"#0d6efd"},children:Object(g.jsx)(x.a.Link,{as:p.b,to:"/Login",style:"/Login"===e.page?{color:"white"}:{color:"#cfcfcf"},children:" P\u0159ihl\xe1sit se"})})})]})})]})})}var S=n(108),C=n.n(S);function w(e){var t=_(),n=t.setIsLoggedIn,a=t.setUser,r=t.IsLoggedIn,s=Object(o.f)();return Object(i.useEffect)((function(){r&&s("/")}),[]),Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)(k,{page:"Login"}),Object(g.jsx)(l.a,{style:{height:"100%"},children:Object(g.jsx)(u.a,{style:{height:"100%"},children:Object(g.jsx)(d.a,{className:C.a.centerContent,children:Object(g.jsx)("div",{className:C.a.loginForm,children:Object(g.jsx)(m.a,{initialValues:{email:"",password:""},validate:function(e){var t={};return e.email?/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,4}$/i.test(e.email)||(t.email="Nespr\xe1vn\xfd form\xe1t e-mailov\xe9 adresy"):t.email="Nezadali jste e-mailovou adresu",e.password||(t.password="Nezadali jste heslo"),t},onSubmit:function(e,t){fetch("https://iis-api.herokuapp.com/auth/login",{method:"POST",headers:{"Content-type":"application/json; charset=UTF-8"},body:JSON.stringify(e)}).then((function(e){return e.text()})).then((function(e){if("Username or password incorrect"===e)t.setStatus("Zadali jste \u0161patn\xfd e-mail nebo heslo");else{var i=JSON.parse(e);sessionStorage.setItem("accessToken",i.accessToken),n(!0),fetch("https://iis-api.herokuapp.com/users/current",{method:"GET",headers:{Authorization:"Bearer "+i.accessToken}}).then((function(e){return e.text()})).then((function(e){a(JSON.parse(e)),s("/")}))}t.setSubmitting(!1)}))},children:function(e){var t=e.values,n=e.errors,i=e.status,a=e.touched,r=e.handleChange,s=(e.handleBlur,e.handleSubmit),c=e.isSubmitting;return Object(g.jsxs)(b.a,{onSubmit:s,children:[Object(g.jsx)("label",{style:{width:"100%",textAlign:"center",paddingBottom:40,color:"#0d6efd",fontSize:"30px"},children:"Zadejte p\u0159ihla\u0161ovac\xed \xfadaje"}),Object(g.jsxs)(j.a,{controlId:"floatingInput",label:"E-mailov\xe1 adresa",className:"mb-3",children:[Object(g.jsx)(b.a.Control,{type:"text",name:"email",placeholder:"example@domain.net",onChange:r,value:t.email}),n.email&&a.email?Object(g.jsx)("div",{style:{color:"red"},children:n.email}):null]}),Object(g.jsxs)(j.a,{controlId:"floatingPassword",label:"Heslo",children:[Object(g.jsx)(b.a.Control,{type:"password",name:"password",placeholder:"Heslo",onChange:r,value:t.password}),n.password&&a.password?Object(g.jsx)("div",{style:{color:"red"},children:n.password}):null]}),Object(g.jsxs)("div",{style:{paddingTop:30},className:"d-grid align-items-center",children:[Object(g.jsx)(h.a,{variant:"primary",type:"submit",disabled:c,size:"lg",children:"P\u0159ihl\xe1sit se"}),i?Object(g.jsx)("div",{style:{color:"red",width:"100%",paddingTop:10,textAlign:"center"},children:i}):null]}),Object(g.jsxs)("div",{style:{width:"100%",textAlign:"center",paddingTop:10},children:[Object(g.jsx)("label",{style:{marginRight:5},children:"Je\u0161t\u011b nem\xe1te \xfa\u010det?"}),Object(g.jsx)(p.b,{style:{color:"#0d6efd"},to:"/register",children:"Zaregistrujte se!"})]})]})}})})})})})]})}function T(e){var t=_(),n=t.setIsLoggedIn,i=t.setUser,a=Object(o.f)();return Object(g.jsx)(m.a,{initialValues:{email:"",password:"",name:"",surname:""},validate:function(e){var t={};return e.email?/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,4}$/i.test(e.email)||(t.email="Nespr\xe1vn\xfd form\xe1t e-mailov\xe9 adresy"):t.email="Nezadali jste e-mailovou adresu",e.password?e.password.length<8&&(t.password="Heslo je p\u0159\xedli\u0161 kr\xe1tk\xe9"):t.password="Nezadali jste heslo",e.name||(t.name="Nezadali jste jm\xe9no"),e.surname||(t.surname="Nezadali jste p\u0159\xedjmen\xed"),t},onSubmit:function(e,t){fetch("https://iis-api.herokuapp.com/auth/register",{method:"POST",headers:{"Content-type":"application/json; charset=UTF-8"},body:JSON.stringify(e)}).then((function(e){return e.text()})).then((function(e){if("User already exists"==e)t.setStatus("U\u017eivatel ji\u017e existuje");else{var r=JSON.parse(e);sessionStorage.setItem("accessToken",r.accessToken),n(!0),fetch("https://iis-api.herokuapp.com/users/current",{method:"GET",headers:{Authorization:"Bearer "+r.accessToken}}).then((function(e){return e.text()})).then((function(e){i(JSON.parse(e)),a("/")}))}}))},children:function(e){var t=e.values,n=e.errors,i=e.status,a=e.touched,r=e.handleChange,s=(e.handleBlur,e.handleSubmit),c=e.isSubmitting;return Object(g.jsxs)(b.a,{onSubmit:s,children:[Object(g.jsx)("label",{style:{width:"100%",textAlign:"center",paddingBottom:40,color:"#0d6efd",fontSize:"30px"},children:"Registra\u010dn\xed formul\xe1\u0159"}),Object(g.jsxs)(u.a,{className:"mb-3",children:[Object(g.jsxs)(b.a.Group,{style:{minWidth:200},as:d.a,controlId:"formGridUsername",children:[Object(g.jsx)(b.a.Label,{children:"E-mailov\xe1 adresa"}),Object(g.jsx)(b.a.Control,{type:"text",name:"email",placeholder:"Zadejte e-mailovou adresu",onChange:r,value:t.email}),n.email&&a.email?Object(g.jsx)("div",{style:{color:"red"},children:n.email}):null]}),Object(g.jsxs)(b.a.Group,{style:{minWidth:200},as:d.a,controlId:"formGridPassword",children:[Object(g.jsx)(b.a.Label,{children:"Heslo"}),Object(g.jsx)(b.a.Control,{type:"password",name:"password",placeholder:"Zadejte heslo",onChange:r,value:t.password}),n.password&&a.password?Object(g.jsx)("div",{style:{color:"red"},children:n.password}):null]})]}),Object(g.jsxs)(u.a,{className:"mb-3",children:[Object(g.jsxs)(b.a.Group,{style:{minWidth:200},as:d.a,controlId:"formGridName",children:[Object(g.jsx)(b.a.Label,{children:"Jm\xe9no"}),Object(g.jsx)(b.a.Control,{type:"text",name:"name",placeholder:"Zadejte jm\xe9no",onChange:r,value:t.name}),n.name&&a.name?Object(g.jsx)("div",{style:{color:"red"},children:n.name}):null]}),Object(g.jsxs)(b.a.Group,{style:{minWidth:200},as:d.a,controlId:"formGridSurname",children:[Object(g.jsx)(b.a.Label,{children:"P\u0159\xedjm\xe9n\xed"}),Object(g.jsx)(b.a.Control,{type:"text",name:"surname",placeholder:"Zadejte p\u0159\xedjmen\xed",onChange:r,value:t.surname}),n.surname&&a.surname?Object(g.jsx)("div",{style:{color:"red"},children:n.surname}):null]})]}),Object(g.jsxs)("div",{style:{paddingTop:30},className:"d-grid align-items-center",children:[Object(g.jsx)(h.a,{variant:"primary",type:"submit",disabled:c,size:"lg",children:"Zaregistovat se"}),i?Object(g.jsx)("div",{style:{color:"red",width:"100%",textAlign:"center"},children:i}):null]}),Object(g.jsx)("div",{style:{width:"100%",textAlign:"center",paddingTop:10},children:Object(g.jsx)(p.b,{style:{color:"#0d6efd"},to:"/login",children:"Zp\u011bt na p\u0159ihl\xe1\u0161en\xed"})})]})}})}var N=n(109),I=n.n(N);function A(e){var t=Object(o.f)(),n=_().IsLoggedIn;return Object(i.useEffect)((function(){n&&t("/")}),[]),Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)(k,{page:"Home"}),Object(g.jsx)(l.a,{style:{height:"100%"},children:Object(g.jsx)(u.a,{style:{height:"100%"},children:Object(g.jsx)(d.a,{className:I.a.centerContent,children:Object(g.jsx)("div",{className:I.a.registerForm,children:Object(g.jsx)(T,{})})})})})]})}var z=n(71),L=n(73),U=n(2),P=n(13);function D(e){return Object(g.jsxs)(b.a,{onSubmit:e.handleSubmit,children:[Object(g.jsxs)(u.a,{className:"mb-3",children:[Object(g.jsxs)(b.a.Group,{style:{minWidth:200},as:d.a,controlId:"formGridEmail",children:[Object(g.jsx)(b.a.Label,{children:"E-mailov\xe1 adresa"}),Object(g.jsx)(b.a.Control,{type:"text",name:"email",placeholder:"Zadejte u\u017eivatelk\xe9 jm\xe9no",onChange:e.handleChange,value:e.values.email}),e.errors.email&&e.touched.email?Object(g.jsx)("div",{style:{color:"red"},children:e.errors.email}):null]}),Object(g.jsxs)(b.a.Group,{style:{minWidth:200},as:d.a,controlId:"formGridPassword",children:[Object(g.jsx)(b.a.Label,{children:"Heslo"}),Object(g.jsx)(b.a.Control,{type:"password",name:"password",placeholder:"Zadejte heslo",onChange:e.handleChange,value:e.values.password}),e.errors.password&&e.touched.password?Object(g.jsx)("div",{style:{color:"red"},children:e.errors.password}):null]})]}),Object(g.jsxs)(u.a,{className:"mb-3",children:[Object(g.jsxs)(b.a.Group,{style:{minWidth:200},as:d.a,controlId:"formGridName",children:[Object(g.jsx)(b.a.Label,{children:"Jm\xe9no"}),Object(g.jsx)(b.a.Control,{type:"text",name:"name",placeholder:"Zadejte jm\xe9no",onChange:e.handleChange,value:e.values.name}),e.errors.name&&e.touched.name?Object(g.jsx)("div",{style:{color:"red"},children:e.errors.name}):null]}),Object(g.jsxs)(b.a.Group,{style:{minWidth:200},as:d.a,controlId:"formGridSurname",children:[Object(g.jsx)(b.a.Label,{children:"P\u0159\xedjmen\xed"}),Object(g.jsx)(b.a.Control,{type:"text",name:"surname",placeholder:"Zadejte p\u0159\xedjmen\xed",onChange:e.handleChange,value:e.values.surname}),e.errors.surname&&e.touched.surname?Object(g.jsx)("div",{style:{color:"red"},children:e.errors.surname}):null]}),Object(g.jsxs)(b.a.Group,{style:{minWidth:200},as:d.a,controlId:"formGridRole",children:[Object(g.jsx)(b.a.Label,{children:"Role u\u017eivatele"}),Object(g.jsxs)(b.a.Select,{"aria-label":"V\xfdb\u011br rol\xed",name:"role_id",value:e.values.role_id,onChange:e.handleChange,children:[Object(g.jsx)("option",{children:"Vyberte roli"}),Object(g.jsx)("option",{value:"1",children:"Registrovan\xfd u\u017eivatel"}),Object(g.jsx)("option",{value:"2",children:"Licit\xe1tor"}),Object(g.jsx)("option",{value:"3",children:"Administr\xe1tor"})]}),e.errors.role_id&&e.touched.role_id?Object(g.jsx)("div",{style:{color:"red"},children:e.errors.role_id}):null]})]}),Object(g.jsxs)("div",{style:{wight:"100%"},children:[Object(g.jsx)(h.a,{variant:"primary",style:{maxWidth:200,marginInline:10,float:"right"},type:"submit",disabled:e.isSubmitting,children:"Ulo\u017eit zm\u011bny"}),Object(g.jsx)(h.a,{variant:"secondary",style:{maxWidth:200,marginInline:10,float:"right"},disabled:e.isSubmitting,onClick:e.onHide,children:"Zru\u0161it"})]})]})}function B(e){return Object(g.jsxs)(P.a,Object(U.a)(Object(U.a)({},e),{},{size:"lg","aria-labelledby":"contained-modal-title-vcenter",centered:!0,children:[Object(g.jsx)(P.a.Header,{closeButton:!0,children:Object(g.jsx)(P.a.Title,{style:{color:"#0d6efd"},id:"contained-modal-title-vcenter",children:"Tvorba nov\xe9ho u\u017eivatele"})}),Object(g.jsx)(P.a.Body,{children:Object(g.jsx)(m.a,{initialValues:{email:e.item.email,password:e.item.password,name:e.item.name,surname:e.item.surname,role_id:e.item.role_id},validate:function(e){var t={};return e.email?/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,4}$/i.test(e.email)||(t.email="Nespr\xe1vn\xfd form\xe1t e-mailov\xe9 adresy"):t.email="Nezadali jste e-mailovou adresu",e.password?e.password.length<8&&(t.password="Heslo je p\u0159\xedli\u0161 kr\xe1tk\xe9"):t.password="Nezadali jste heslo",e.name||(t.name="Nezadali jste jm\xe9no"),e.surname||(t.surname="Nezadali jste p\u0159\xedjmen\xed"),e.role_id||(t.role_id="Vyberte pros\xedm roli u\u017eivatele"),t},onSubmit:function(t,n){e.onSubmit(t,n)},children:function(t){var n=t.values,i=t.errors,a=t.status,r=t.touched,s=t.handleChange,c=t.handleSubmit,o=t.isSubmitting;return Object(g.jsx)(D,{onHide:e.onHide,values:n,errors:i,status:a,touched:r,handleChange:s,handleSubmit:c,isSubmitting:o})}})})]}))}function F(e){return Object(g.jsxs)(P.a,Object(U.a)(Object(U.a)({},e),{},{size:"lg","aria-labelledby":"contained-modal-title-vcenter",centered:!0,children:[Object(g.jsx)(P.a.Header,{closeButton:!0,children:Object(g.jsx)(P.a.Title,{style:{color:"#0d6efd"},id:"contained-modal-title-vcenter",children:"Upraven\xed u\u017eivatele"})}),Object(g.jsx)(P.a.Body,{children:Object(g.jsx)(m.a,{initialValues:{id:e.item.id,email:e.item.email,password:e.item.password,name:e.item.name,surname:e.item.surname,role_id:e.item.role_id},validate:function(e){var t={};return e.email?/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,4}$/i.test(e.email)||(t.email="Nespr\xe1vn\xfd form\xe1t e-mailov\xe9 adresy"):t.email="Nezadali jste e-mailovou adresu",e.password?e.password.length<8&&(t.password="Heslo je p\u0159\xedli\u0161 kr\xe1tk\xe9"):t.password="Nezadali jste heslo",e.name||(t.name="Nezadali jste jm\xe9no"),e.surname||(t.surname="Nezadali jste p\u0159\xedjmen\xed"),e.role_id||(t.role_id="Vyberte pros\xedm roli u\u017eivatele"),t},onSubmit:function(t,n){e.onSubmit(t,n)},children:function(t){var n=t.values,i=t.errors,a=t.status,r=t.touched,s=t.handleChange,c=t.handleSubmit,o=t.isSubmitting;return Object(g.jsx)(D,{onHide:e.onHide,values:n,errors:i,status:a,touched:r,handleChange:s,handleSubmit:c,isSubmitting:o})}})})]}))}function Z(e){return Object(g.jsxs)(P.a,Object(U.a)(Object(U.a)({},e),{},{"aria-labelledby":"contained-modal-title-vcenter",centered:!0,children:[Object(g.jsx)(P.a.Header,{closeButton:!0,children:Object(g.jsx)(P.a.Title,{style:{color:"#0d6efd"},children:e.title})}),Object(g.jsx)(P.a.Body,{children:e.bodyText}),Object(g.jsxs)(P.a.Footer,{children:[Object(g.jsx)(h.a,{variant:"secondary",onClick:e.onHide,children:"Zru\u0161it"}),Object(g.jsx)(h.a,{variant:"danger",onClick:function(){return e.action(e)},children:"Vymazat"})]})]}))}var H=n(116),G=n.n(H),V=n(117),E=n.n(V);function W(e){return Object(g.jsx)(l.a,{className:E.a.fullCenterContent,children:Object(g.jsx)("h1",{style:{fontSize:90},children:"Loading"})})}function J(e){var t=a.a.useState(null),n=Object(c.a)(t,2),i=n[0],r=n[1],s=a.a.useState(!1),j=Object(c.a)(s,2),b=j[0],m=j[1],p=a.a.useState([]),O=Object(c.a)(p,2),x=O[0],v=O[1],f=Object(o.f)();function y(e){if(e.status>=200&&e.status<=299)return e.json();var t=[];t.ID=e.status,t.Text=e.statusText,r(t),m(!0)}a.a.useEffect((function(){_()}),[]);var _=function(){return fetch("https://iis-api.herokuapp.com/users",{method:"GET",headers:{"Content-type":"application/json; charset=UTF-8",Authorization:"Bearer "+sessionStorage.getItem("accessToken")}}).then(y).then((function(e){v(e),m(!0)})).catch((function(e){console.log(e)}))},k=["Neregistrovan\xfd","U\u017eivatel","Licit\xe1tor","Administr\xe1tor"],S=a.a.useState(!1),C=Object(c.a)(S,2),w=C[0],T=C[1],N=a.a.useState(""),I=Object(c.a)(N,2),A=I[0],U=I[1],P=a.a.useState(!1),D=Object(c.a)(P,2),H=D[0],V=D[1],E=a.a.useState(""),J=Object(c.a)(E,2),R=J[0],K=J[1],M=a.a.useState(!1),X=Object(c.a)(M,2),$=X[0],q=X[1],Q=a.a.useState({}),Y=Object(c.a)(Q,2),ee=Y[0],te=Y[1];return i?(console.log(i),Object(g.jsx)(g.Fragment,{children:f("/error/"+i.ID+"/"+i.Text)})):b?Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)(l.a,{style:{paddingTop:70},children:Object(g.jsx)(u.a,{children:Object(g.jsxs)(d.a,{className:G.a.centerContent,children:[Object(g.jsx)("label",{style:{width:"100%",textAlign:"left",paddingBottom:40,color:"#0d6efd",fontSize:"30px"},children:"Seznam u\u017eivatel\u016f"}),Object(g.jsx)("div",{style:{width:"100%",overflow:"auto"},children:Object(g.jsxs)(z.a,{hover:!0,striped:!0,style:{textAlign:"center"},children:[Object(g.jsx)("thead",{children:Object(g.jsxs)("tr",{children:[Object(g.jsx)("th",{children:"ID"}),Object(g.jsx)("th",{children:"E-mail"}),Object(g.jsx)("th",{children:"Jm\xe9no"}),Object(g.jsx)("th",{children:"P\u0159\xedjmen\xed"}),Object(g.jsx)("th",{children:"Role"}),Object(g.jsx)("th",{children:"Smazat"}),Object(g.jsx)("th",{children:"Upravit"})]})}),Object(g.jsx)("tbody",{children:x.map((function(e){return Object(g.jsxs)("tr",{children:[Object(g.jsx)("td",{children:e.id}),Object(g.jsx)("td",{children:e.email}),Object(g.jsx)("td",{children:e.name}),Object(g.jsx)("td",{children:e.surname}),Object(g.jsx)("td",{children:k[e.role_id]}),Object(g.jsx)("td",{children:Object(g.jsx)(h.a,{onClick:function(){return function(e){te(e),q(!0)}(e)},style:{border:0,backgroundColor:"#ffffff00"},children:Object(g.jsx)(L.a,{color:"#0d6efd",size:"20"})})}),Object(g.jsx)("td",{children:Object(g.jsx)(h.a,{onClick:function(){return function(e){K(e),V(!0)}(e)},style:{border:0,backgroundColor:"#ffffff00"},children:Object(g.jsx)(L.b,{color:"#0d6efd",size:"24"})})})]},e.id)}))})]})}),Object(g.jsx)("div",{style:{width:"100%",padding:"10px"},children:Object(g.jsx)(h.a,{variant:"primary",onClick:function(){return U({id:null,login:"",email:"",name:"",surname:"",password:"",role_id:null}),void T(!0)},children:"P\u0159idat nov\xe9ho u\u017eivatele"})})]})})}),Object(g.jsx)(B,{show:w,onHide:function(){return T(!1)},item:A,onSubmit:function(e,t){e.role_id=Number(e.role_id),fetch("https://iis-api.herokuapp.com/users",{method:"POST",headers:{"Content-type":"application/json; charset=UTF-8",Authorization:"Bearer "+sessionStorage.getItem("accessToken")},body:JSON.stringify(e)}).then(y).then((function(){_(),t.setSubmitting(!1),T(!1)}))}}),Object(g.jsx)(F,{show:H,onHide:function(){return V(!1)},item:R,onSubmit:function(e,t){e.role_id=Number(e.role_id),fetch("https://iis-api.herokuapp.com/users",{method:"PUT",headers:{"Content-type":"application/json; charset=UTF-8",Authorization:"Bearer "+sessionStorage.getItem("accessToken")},body:JSON.stringify(e)}).then(y).then((function(){_(),t.setSubmitting(!1),V(!1)}))}}),Object(g.jsx)(Z,{show:$,onHide:function(){return q(!1)},item:ee,title:"Vymazat u\u017eivatele",bodyText:"Opravdu chcete vymazat u\u017eivatele "+ee.email+"?",action:function(e){fetch("https://iis-api.herokuapp.com/users/"+e.item.id,{headers:{"Content-type":"application/json; charset=UTF-8",Authorization:"Bearer "+sessionStorage.getItem("accessToken")},method:"DELETE"}).then(y).then((function(){_(),q(!1)}))}})]}):Object(g.jsx)(g.Fragment,{children:Object(g.jsx)(W,{})})}var R=n(118),K=n.n(R);function M(e){return Object(g.jsxs)(l.a,{className:K.a.centerContent,children:[Object(g.jsx)("h1",{style:{fontSize:90},children:"Error 404"}),Object(g.jsx)("h2",{children:" Page not found"}),Object(g.jsx)(h.a,{variant:"primary",href:"/",size:"lg",style:{margin:20},children:"Home"})]})}var X=n(64),$=n.n(X),q=n(25),Q=n(47),Y=n.n(Q);function ee(e){return 2==e.state_id&&Date.now()>new Date(e.start_time)&&Date.now()<new Date(e.end_time)?"Aukce prob\xedh\xe1 do "+(null==e.end_time?"":new Date(e.end_time).toLocaleString("cs-CZ")):2==e.state_id&&Date.now()>new Date(e.end_time)?"Aukce byla ukon\u010dena, \u010dek\xe1 se na vyhodnocen\xed":["\u010cek\xe1 se na schv\xe1len\xed licit\xe1torem","Za\u010d\xe1tek napl\xe1nov\xe1n na "+(null==e.start_time?"":new Date(e.start_time).toLocaleString("cs-CZ")),"Zam\xedtnuta","Aukce p\u0159ed\u010dasn\u011b ukon\u010dena, \u010dek\xe1 se na vyhodnocen\xed","Aukce ukon\u010dena "+(null==e.winner_id?"bez v\xfdherce":", v\xfdherce je: "+e.user_auction_winner_idTouser.name+" "+e.user_auction_winner_idTouser.surname)][e.state_id-1]}function te(e){var t=Object(o.f)();return e.userLogged&&e.user.role_id>=2&&e.item_prop.author_id!=e.user.id?Object(g.jsx)(q.a.Footer,{children:Object(g.jsxs)("div",{className:Y.a.buttonsContainer,children:[Object(g.jsx)(h.a,{variant:"success",className:Y.a.buttonApprove,onClick:function(){return e.item_prop.setChangeTime(e.item_prop)},children:"Schv\xe1lit"})," ",Object(g.jsx)(h.a,{variant:"danger",className:Y.a.buttonReject,onClick:function(){return fetch("https://iis-api.herokuapp.com/auctions/approve",{method:"PUT",headers:{"Content-type":"application/json; charset=UTF-8",Authorization:"Bearer "+sessionStorage.getItem("accessToken")},body:JSON.stringify({id:e.item_prop.id,state_id:3})}).then((function(e){if(200==e.status)return e;t("/error/"+e.status+"/"+e.statusText)})).then((function(t){return e.item_prop.loadAuctions()}))},children:"Zam\xedtnout"})]})}):null}function ne(e){var t=Object(o.f)();if(e.userLogged){var n=e.bidders.find((function(t){return t.user_id==e.user.id}));if(n)return n.is_approved?Object(g.jsx)(q.a.Footer,{children:"V t\xe9to aukci jste registrov\xe1n"}):Date.now()>new Date(e.start_time)?Object(g.jsx)(q.a.Footer,{children:"Va\u0161e \u017e\xe1dost o registraci nebyla v\u010das schv\xe1lena"}):Object(g.jsx)(q.a.Footer,{children:"\u010cek\xe1 se na schv\xe1len\xed registrace licit\xe1torem aukce"});if(e.user.id!=e.auctioneer_id&&e.user.id!=e.author_id&&2==e.state_id&&Date.now()<=new Date(e.start_time))return Object(g.jsx)(q.a.Footer,{children:Object(g.jsx)(h.a,{variant:"primary",className:Y.a.buttonApprove,onClick:function(){return fetch("https://iis-api.herokuapp.com/bidders",{method:"POST",headers:{"Content-type":"application/json; charset=UTF-8",Authorization:"Bearer "+sessionStorage.getItem("accessToken")},body:JSON.stringify({auction_id:e.id})}).then((function(e){if(200==e.status)return e;t("/error/"+e.status+"/"+e.statusText)})).then((function(t){return e.loadAuctions()}))},children:"Registrovat se"})})}return null}function ie(e){Object(o.f)();return e.userLogged&&e.user.id==e.author_id?Object(g.jsx)(g.Fragment,{children:Object(g.jsx)(q.a.Footer,{children:Object(g.jsxs)(h.a,{variant:"danger",onClick:function(){return e.setDeleteUserModalShow(!0)},children:[Object(g.jsx)(L.a,{})," Smazat"]})})}):null}function ae(e){var t=_(),n=(t.setIsLoggedIn,t.User),i=t.IsLoggedIn,r=(t.setUser,a.a.useState(!1)),s=Object(c.a)(r,2),l=s[0],d=s[1],u=function(e){var t={"Typ:":e.is_demand?"Popt\xe1vkov\xe1":"Nab\xeddkov\xe1","Pravidla:":e.is_open?"Otev\u0159en\xe1":"Uzav\u0159en\xe1","Licit\xe1tor:":null==e.auctioneer_id?"Nep\u0159i\u0159azen":e.user_auction_auctioneer_idTouser.name+" "+e.user_auction_auctioneer_idTouser.surname,Autor:e.user_auction_author_idTouser.name+" "+e.user_auction_author_idTouser.surname};if(e.is_open)if(0==e.bid.length)t["Aktu\xe1ln\xed cena:"]=e.price+"K\u010d";else{var n=e.bid.reduce((function(e,t){return new Date(e.time)>new Date(t.time)?e:t}),0);t["Aktu\xe1ln\xed cena:"]=n.price+"K\u010d"}else t["Vyvol\xe1vac\xed cena:"]=e.price+"K\u010d";return t}(e),j=Object(o.f)();return Object(g.jsx)("div",{style:{padding:15},children:Object(g.jsxs)(q.a,{style:{width:400},children:[Object(g.jsxs)(p.b,{to:e.link,children:[Object(g.jsx)(q.a.Img,{variant:"top",style:{maxHeight:400},src:0==e.photos.length?"https://www.signfix.com.au/wp-content/uploads/2017/09/placeholder-600x400.png":e.photos[0]}),Object(g.jsxs)(q.a.Body,{children:[Object(g.jsx)(q.a.Title,{className:Y.a.cardTitle,children:e.name}),Object(g.jsx)(q.a.Text,{children:Object.keys(u).map((function(e){return Object(g.jsxs)("div",{className:Y.a.cardItem,children:[" ",Object(g.jsx)("strong",{children:e})," ",u[e],Object(g.jsx)("br",{})]})}))})]}),Object(g.jsx)(q.a.Footer,{children:Object(g.jsx)("span",{className:Y.a.cardText,children:Object(g.jsx)(ee,Object(U.a)({},e))})})]}),1==e.state_id&&Object(g.jsx)(te,{user:n,userLogged:i,item_prop:e}),Object(g.jsx)(ie,Object(U.a)({setDeleteUserModalShow:d,userLogged:i,user:n},e)),i&&n.id==e.auctioneer_id&&Object(g.jsx)(q.a.Footer,{children:"Jste licit\xe1tor t\xe9to aukce"}),i&&n.id==e.author_id&&Object(g.jsx)(q.a.Footer,{children:"Jste autorem t\xe9to aukce"}),Object(g.jsx)(ne,Object(U.a)({userLogged:i,user:n},e)),Object(g.jsx)(Z,{show:l,onHide:function(){return d(!1)},item:e,title:"Vymazat aukci",bodyText:"Opravdu chcete vymazat aukci "+e.name+"?",action:function(){return fetch("https://iis-api.herokuapp.com/auctions/"+e.id,{method:"DELETE",headers:{"Content-type":"application/json; charset=UTF-8",Authorization:"Bearer "+sessionStorage.getItem("accessToken")}}).then((function(e){if(200==e.status)return e;j("/error/"+e.status+"/"+e.statusText)})).then((function(t){return e.loadAuctions()}))}})]})})}function re(e){return Object(g.jsxs)(b.a,{onSubmit:e.handleSubmit,encType:"multipart/form-data",children:[Object(g.jsxs)(u.a,{className:"mb-3",children:[Object(g.jsxs)(b.a.Group,{style:{minWidth:200},as:d.a,controlId:"formGridName",children:[Object(g.jsxs)(b.a.Label,{children:["N\xe1zev aukce",Object(g.jsx)("label",{style:{color:"red"},children:"*"})]}),Object(g.jsx)(b.a.Control,{type:"text",name:"name",placeholder:"Zadejte u\u017eivatelk\xe9 jm\xe9no",onChange:e.handleChange,value:e.values.name}),e.errors.name&&e.touched.name?Object(g.jsx)("div",{style:{color:"red"},children:e.errors.name}):null]}),Object(g.jsxs)(b.a.Group,{style:{minWidth:200},as:d.a,controlId:"formGridType",children:[Object(g.jsxs)(b.a.Label,{children:["Typ aukce",Object(g.jsx)("label",{style:{color:"red"},children:"*"})]}),Object(g.jsxs)(b.a.Select,{"aria-label":"V\xfdb\u011br typu",name:"is_demand",value:e.values.is_demand,onChange:e.handleChange,children:[Object(g.jsx)("option",{children:"Vyberte typ aukce"}),Object(g.jsx)("option",{value:"true",children:"Popt\xe1vkov\xe1"}),Object(g.jsx)("option",{value:"false",children:"Nab\xeddkov\xe1"})]}),e.errors.is_demand&&e.touched.is_demand?Object(g.jsx)("div",{style:{color:"red"},children:e.errors.is_demand}):null]}),Object(g.jsxs)(b.a.Group,{style:{minWidth:200},as:d.a,controlId:"formGridType",children:[Object(g.jsxs)(b.a.Label,{children:["Pravidla aukce",Object(g.jsx)("label",{style:{color:"red"},children:"*"})]}),Object(g.jsxs)(b.a.Select,{"aria-label":"V\xfdb\u011br typu",name:"is_open",value:e.values.is_open,onChange:e.handleChange,children:[Object(g.jsx)("option",{children:"Vyberte typ aukce"}),Object(g.jsx)("option",{value:"true",children:"Otev\u0159en\xe1"}),Object(g.jsx)("option",{value:"false",children:"Uzav\u0159en\xe1"})]}),e.errors.is_open&&e.touched.is_open?Object(g.jsx)("div",{style:{color:"red"},children:e.errors.is_open}):null]})]}),Object(g.jsxs)(u.a,{className:"mb-3",children:[Object(g.jsxs)(b.a.Group,{style:{minWidth:200},as:d.a,controlId:"formGridPrice",children:[Object(g.jsxs)(b.a.Label,{children:["Vyvol\xe1vac\xed cena",Object(g.jsx)("label",{style:{color:"red"},children:"*"})]}),Object(g.jsx)(b.a.Control,{type:"number",name:"price",placeholder:"Zadejte vyvol\xe1vac\xed cenu",onChange:e.handleChange}),e.errors.price&&e.touched.price?Object(g.jsx)("div",{style:{color:"red"},children:e.errors.price}):null]}),Object(g.jsxs)(b.a.Group,{style:{minWidth:200},as:d.a,controlId:"formGridMinBid",children:[Object(g.jsx)(b.a.Label,{children:"Minim\xe1ln\xed p\u0159\xedhoz"}),Object(g.jsx)(b.a.Control,{type:"number",placeholder:"Toto pole nemus\xed b\xfdt zadan\xe9",name:"mim_bid",onChange:e.handleChange,value:e.values.min_bid})]}),Object(g.jsxs)(b.a.Group,{style:{minWidth:200},as:d.a,controlId:"formGridMaxBid",children:[Object(g.jsx)(b.a.Label,{children:"Maxim\xe1ln\xed p\u0159\xedhoz"}),Object(g.jsx)(b.a.Control,{type:"number",placeholder:"Toto pole nemus\xed b\xfdt zadan\xe9",name:"max_bid",onChange:e.handleChange,value:e.values.max_bid})]})]}),Object(g.jsx)(u.a,{className:"mb-3",children:Object(g.jsxs)(b.a.Group,{style:{minWidth:200},as:d.a,controlId:"formFile",children:[Object(g.jsxs)(b.a.Label,{children:["Obr\xe1zky",Object(g.jsx)("label",{style:{color:"red"},children:"*"})]}),Object(g.jsx)(b.a.Control,{type:"file",accept:"image/*",multiple:!0,name:"photos",onChange:function(t){var n=t.target.files,i=[];Array.from(n).forEach((function(e){console.log(e),function(e){return new Promise((function(t,n){var i=new FileReader;i.readAsDataURL(e),i.onload=function(){t(i.result)},i.onerror=function(e){n(e)}}))}(e).then((function(e){console.log(e),i.push(e)}))})),e.setFieldValue("photos",i)}}),e.errors.photos&&e.touched.photos?Object(g.jsx)("div",{style:{color:"red"},children:e.errors.photos}):null]})}),Object(g.jsx)(u.a,{className:"mb-3",children:Object(g.jsxs)(b.a.Group,{style:{minWidth:200},as:d.a,controlId:"formGridDescription",children:[Object(g.jsxs)(b.a.Label,{children:["Popisek",Object(g.jsx)("label",{style:{color:"red"},children:"*"})]}),Object(g.jsx)(b.a.Control,{as:"textarea",name:"description",placeholder:"Zadejte popisek",onChange:e.handleChange,value:e.values.description}),e.errors.description&&e.touched.description?Object(g.jsx)("div",{style:{color:"red"},children:e.errors.description}):null]})}),Object(g.jsxs)("div",{children:[Object(g.jsx)("label",{style:{color:"red"},children:"* po\u017eadovan\xe9 pole"}),Object(g.jsx)(h.a,{variant:"primary",style:{maxWidth:200,marginInline:10,float:"right"},type:"submit",disabled:e.isSubmitting,children:"Ulo\u017eit zm\u011bny"}),Object(g.jsx)(h.a,{variant:"secondary",style:{maxWidth:200,marginInline:10,float:"right"},disabled:e.isSubmitting,onClick:e.onHide,children:"Zru\u0161it"})]})]})}function se(e){return Object(g.jsxs)(P.a,Object(U.a)(Object(U.a)({},e),{},{size:"lg","aria-labelledby":"contained-modal-title-vcenter",centered:!0,children:[Object(g.jsx)(P.a.Header,{closeButton:!0,children:Object(g.jsx)(P.a.Title,{style:{color:"#0d6efd"},id:"contained-modal-title-vcenter",children:"Tvorba nov\xe9 aukce"})}),Object(g.jsx)(P.a.Body,{children:Object(g.jsx)(m.a,{initialValues:{name:e.item.name,is_open:e.item.is_open,is_demand:e.item.is_demand,price:e.item.price,min_bid:e.item.min_bid,max_bid:e.item.max_bid,description:e.item.description,photos:e.item.photos},validate:function(e){var t={};return e.name||(t.name="Nezadali jste jm\xe9no aukce"),e.is_open||(t.is_open="Vyberte pros\xedm typ aukce"),e.is_demand||(t.is_demand="Vyberte pros\xedm pravidla aukce"),e.price||(t.price="Nezadali jste vyvol\xe1vac\xed cenu"),e.photos||(t.files="Nevybrali jste \u017e\xe1dn\xfd obr\xe1zek"),e.description||(t.description="Nezadali jste popisek"),t},onSubmit:function(t,n){e.onSubmit(t,n)},children:function(t){var n=t.values,i=t.errors,a=(t.status,t.touched),r=t.handleChange,s=t.handleSubmit,c=t.isSubmitting,o=t.setFieldValue;return Object(g.jsx)(re,{onHide:e.onHide,values:n,errors:i,touched:a,handleChange:r,handleSubmit:s,isSubmitting:c,setFieldValue:o})}})})]}))}function ce(e){return Object(g.jsxs)(b.a,{onSubmit:e.handleSubmit,children:[Object(g.jsxs)(u.a,{className:"mb-3",children:[Object(g.jsxs)(b.a.Group,{style:{minWidth:200},as:d.a,controlId:"formGridStartTime",children:[Object(g.jsx)(b.a.Label,{children:"\u010cas za\u010d\xe1tku aukce"}),Object(g.jsx)(b.a.Control,{type:"datetime-local",name:"start_time",placeholder:"Zadejte \u010das za\u010d\xe1tku aukce",onChange:e.handleChange,value:e.values.start_time}),e.errors.start_time&&e.touched.start_time?Object(g.jsx)("div",{style:{color:"red"},children:e.errors.start_time}):null]}),Object(g.jsxs)(b.a.Group,{style:{minWidth:200},as:d.a,controlId:"formGridEndTime",children:[Object(g.jsx)(b.a.Label,{children:"\u010cas konce aukce"}),Object(g.jsx)(b.a.Control,{type:"datetime-local",name:"end_time",placeholder:"Zadejte \u010das konce aukce",onChange:e.handleChange,value:e.values.end_time}),e.errors.end_time&&e.touched.end_time?Object(g.jsx)("div",{style:{color:"red"},children:e.errors.end_time}):null]})]}),Object(g.jsxs)("div",{children:[Object(g.jsx)(h.a,{variant:"primary",style:{maxWidth:200,marginInline:10,float:"right"},type:"submit",disabled:e.isSubmitting,children:"Ulo\u017eit zm\u011bny"}),Object(g.jsx)(h.a,{variant:"secondary",style:{maxWidth:200,marginInline:10,float:"right"},disabled:e.isSubmitting,onClick:e.onHide,children:"Zru\u0161it"})]})]})}function oe(e){return Object(g.jsxs)(P.a,Object(U.a)(Object(U.a)({},e),{},{size:"lg","aria-labelledby":"contained-modal-title-vcenter",centered:!0,children:[Object(g.jsx)(P.a.Header,{closeButton:!0,children:Object(g.jsx)(P.a.Title,{style:{color:"#0d6efd"},id:"contained-modal-title-vcenter",children:"Nastaven\xed \u010dasu aukce"})}),Object(g.jsx)(P.a.Body,{children:Object(g.jsx)(m.a,{initialValues:{start_time:e.start_time,end_time:e.end_time},validate:function(e){var t={};return e.start_time?e.end_time?e.end_time<=e.start_time&&(t.end_time="Konec aukce mus\xed b\xfdt pozd\u011bji ne\u017e za\u010d\xe1tek"):t.end_time="Nenastavili jste konec aukce":t.start_time="Nenastavili jste za\u010d\xe1tek aukce",t},onSubmit:function(t,n){fetch("https://iis-api.herokuapp.com/auctions/approve",{method:"PUT",headers:{"Content-type":"application/json; charset=UTF-8",Authorization:"Bearer "+sessionStorage.getItem("accessToken")},body:JSON.stringify({id:e.id,state_id:2,start_time:new Date(t.start_time),end_time:new Date(t.end_time)})}).then((function(t){e.loadAuctions(),n.setSubmitting(!1),e.onHide()}))},children:function(t){var n=t.values,i=t.errors,a=(t.status,t.touched),r=t.handleChange,s=t.handleSubmit,c=t.isSubmitting,o=t.setFieldValue;return Object(g.jsx)(ce,{onHide:e.onHide,values:n,errors:i,touched:a,handleChange:r,handleSubmit:s,isSubmitting:c,setFieldValue:o})}})})]}))}var le=n(121);function de(e){var t=a.a.useState(!1),n=Object(c.a)(t,2),r=n[0],s=n[1],d=a.a.useState(""),u=Object(c.a)(d,2),j=u[0],b=u[1],m=function(e){b(e),s(!0)},p=a.a.useState(!1),O=Object(c.a)(p,2),x=O[0],v=O[1],f=a.a.useState(""),y=Object(c.a)(f,2),k=y[0],S=y[1],C=_(),w=C.User,T=C.IsLoggedIn,N=Object(i.useState)(null),I=Object(c.a)(N,2),A=I[0],z=I[1],L=Object(i.useState)(!1),P=Object(c.a)(L,2),D=P[0],B=P[1],F=Object(i.useState)([]),Z=Object(c.a)(F,2),H=Z[0],G=Z[1];function V(e){if(e.status>=200&&e.status<=299)return e.json();var t=[];t.ID=e.status,t.Text=e.statusText,z(t),B(!0)}var E=function(){return fetch("https://iis-api.herokuapp.com/auctions").then(V).then((function(e){B(!0),G(e)}))};Object(i.useEffect)((function(){E()}),[]);var J=[{value:"1",label:"Neschv\xe1lena"},{value:"3",label:"Zam\xedtnuta"},{value:"6",label:"Napl\xe1nov\xe1na"},{value:"7",label:"Prob\xedhaj\xedc\xed"},{value:"8",label:"Ukon\u010deno p\u0159ij\xedm\xe1n\xed nab\xeddek"},{value:"5",label:"Vyhodnocena"}],R=Object(o.f)(),K=Object(i.useState)([]),M=Object(c.a)(K,2),X=M[0],q=M[1];return A?Object(g.jsx)(g.Fragment,{children:R("/error/"+A.ID+"/"+A.Text)}):D?Object(g.jsxs)(g.Fragment,{children:[Object(g.jsxs)(l.a,{className:"mainContainer",children:[Object(g.jsxs)("div",{style:{display:"flex"},children:[Object(g.jsx)("div",{style:{flex:.8},children:Object(g.jsx)("h1",{style:{paddingBottom:0},children:" P\u0159ehled aukc\xed"})}),Object(g.jsx)("div",{style:{flex:.2,textAlign:"right",padding:20},children:T&&w.role_id>1&&Object(g.jsx)(h.a,{variant:"primary",onClick:function(){return S({id:null,name:"",is_demand:null,is_open:null,price:null,author_id:null,auctioneer_id:null,start_time:null,end_time:null,description:"",photos:null,winner_id:null,state_id:null,min_bid:null,max_bid:null}),void v(!0)},children:"P\u0159idat novou aukci"})})]}),Object(g.jsx)("div",{style:{padding:10},children:Object(g.jsx)(le.a,{options:J,value:X,onChange:q,overrideStrings:{allItemsAreSelected:"Jsou vybr\xe1ny v\u0161echny mo\u017enosti",clearSearch:"Vymazat vyhled\xe1v\xe1n\xed",clearSelected:"Zru\u0161it vybran\xe9",noOptions:"\u017d\xe1dn\xe9 mo\u017enosti",search:"Vyhledat",selectAll:"Vybrat v\u0161echny stavy",selectAllFiltered:"Vybrat v\u0161e (vyfiltrovan\xe9)",selectSomeItems:"Stav aukce",create:"Vytvo\u0159it"}})}),Object(g.jsx)(l.a,{className:$.a.flexContainer,children:function(e){if(0==X.length||X.length==J.length)return e;var t=function(){var t=[],n=function(n){X.forEach((function(i){2==e[n].state_id?("6"==i.value&&new Date(e[n].start_time)>Date.now()||"7"==i.value&&new Date(e[n].start_time)<=Date.now()&&new Date(e[n].end_time)>Date.now()||"8"==i.value&&new Date(e[n].end_time)<=Date.now())&&t.push(e[n]):e[n].state_id==i.value&&t.push(e[n])}))};for(var i in e)n(i);return{v:t}}();return"object"===typeof t?t.v:void 0}(H).map((function(e){return Object(g.jsx)(ae,Object(U.a)(Object(U.a)({},e),{},{setChangeTime:m,link:"/auction-detail/"+e.id,loadAuctions:E}))}))})]}),Object(g.jsx)(se,{show:x,onHide:function(){return v(!1)},item:k,onSubmit:function(e,t){console.log(w),e.is_demand="true"==e.is_demand,e.is_open="true"==e.is_open,fetch("https://iis-api.herokuapp.com/auctions",{method:"POST",headers:{"Content-type":"application/json; charset=UTF-8",Authorization:"Bearer "+sessionStorage.getItem("accessToken")},body:JSON.stringify(e)}).then(V).then((function(){E(),t.setSubmitting(!1),v(!1)}))}}),Object(g.jsx)(oe,Object(U.a)({show:r,onHide:function(){return s(!1)},loadAuctions:E,user:w},j))]}):Object(g.jsx)(W,{})}var ue=n(110),je=n(122),be=n(76),he=n(70),me=n(36),pe=n.n(me),Oe=n(119),xe=n.n(Oe);function ve(e){return Object(g.jsxs)(b.a,{onSubmit:e.handleSubmit,children:[Object(g.jsx)(u.a,{className:"mb-3",children:Object(g.jsxs)(b.a.Group,{style:{minWidth:200},as:d.a,controlId:"formGridRole",children:[Object(g.jsx)(b.a.Label,{children:"Vyberte v\xfdherce"}),Object(g.jsxs)(b.a.Select,{"aria-label":"V\xfdb\u011br v\xfdherce",name:"winner_id",value:e.values.winner_id,onChange:e.handleChange,children:[Object(g.jsx)("option",{value:"",children:"Vyberte v\xfdherce"}),e.values.bidders&&e.values.bidders.map((function(e,t){return Object(g.jsxs)("option",{value:e.user_id,children:[e.user.name," ",e.user.surname]},t)}))]})]})}),Object(g.jsxs)("div",{children:[Object(g.jsx)(h.a,{variant:"primary",style:{maxWidth:200,marginInline:10,float:"right"},type:"submit",disabled:e.isSubmitting,children:"Ulo\u017eit zm\u011bny"}),Object(g.jsx)(h.a,{variant:"secondary",style:{maxWidth:200,marginInline:10,float:"right"},disabled:e.isSubmitting,onClick:e.onHide,children:"Zru\u0161it"})]})]})}function ge(e){return Object(g.jsxs)(P.a,Object(U.a)(Object(U.a)({},e),{},{size:"lg","aria-labelledby":"contained-modal-title-vcenter",centered:!0,children:[Object(g.jsx)(P.a.Header,{closeButton:!0,children:Object(g.jsx)(P.a.Title,{style:{color:"#0d6efd"},id:"contained-modal-title-vcenter",children:"V\xfdb\u011br v\xfdherce aukce"})}),Object(g.jsx)(P.a.Body,{children:Object(g.jsx)(m.a,{initialValues:{id:e.item.id,bidders:e.item.bidders,winner_id:null,end_time:e.item.end_time},onSubmit:function(t,n){e.onSubmit(t,n)},children:function(t){var n=t.values,i=t.errors,a=t.status,r=t.touched,s=t.handleChange,c=t.handleSubmit,o=t.isSubmitting;return Object(g.jsx)(ve,{onHide:e.onHide,values:n,errors:i,status:a,touched:r,handleChange:s,handleSubmit:c,isSubmitting:o})}})})]}))}function fe(e){var t=Object(i.useRef)(null),n=Object(o.f)();return Object(g.jsx)(g.Fragment,{children:Object(g.jsx)(m.a,{initialValues:{bid:""},validate:function(n){var i,a={};0===e.bid.length?i=e.price:i=e.bid.reduce((function(e,t){return new Date(e.time)>new Date(t.time)?e:t}),0).price;return Number(n.bid)<=0?a.bid="Nab\xeddka mus\xed b\xfdt v\u011bt\u0161\xed ne\u017e 0 K\u010d":e.is_demand&&Number(i)>=Number(n.bid)?a.bid="Nov\xe1 nab\xeddka mus\xed b\xfdt v popt\xe1vkov\xe9 aukc\xed vy\u0161\u0161\xed ne\u017e aktu\xe1ln\xed cena":!e.is_demand&&Number(n.bid)>=Number(i)?a.bid="Nov\xe1 nab\xeddka mus\xed b\xfdt v nab\xeddkov\xe9 aukci ni\u017e\u0161\xed ne\u017e aktu\xe1ln\xed cena":null!=e.min_bid&&Math.abs(Number(i)-Number(n.bid))<Number(e.min_bid)?a.bid="Minim\xe1ln\xed"+(e.is_demand?" p\u0159\xedhoz ":" sn\xed\u017een\xed nab\xeddky ")+"pro tuto aukci je "+e.min_bid+" K\u010d":null!=e.max_bid&&Math.abs(Number(i)-Number(n.bid))>Number(e.max_bid)&&(a.bid="Maxim\xe1ln\xed"+(e.is_demand?" p\u0159\xedhoz ":" sn\xed\u017een\xed nab\xeddky ")+"pro tuto aukci je "+e.max_bid+" K\u010d"),a.bid?(ye("is-invalid",t),console.log(a.bid)):t.current.classList.remove("is-invalid"),a},onSubmit:function(i,a){fetch("https://iis-api.herokuapp.com/bids",{method:"POST",headers:{"Content-type":"application/json; charset=UTF-8",Authorization:"Bearer "+sessionStorage.getItem("accessToken")},body:JSON.stringify({auction_id:e.id,price:i.bid,time:Date.now()})}).then((function(i){200==i.status?(e.loadAuction(),a.setSubmitting(!1),ye("is-valid",t)):n("/error/"+i.status+"/"+i.statusText)}))},children:function(e){e.values;var n=e.errors,i=(e.status,e.touched,e.handleChange),a=(e.handleBlur,e.handleSubmit),r=e.isSubmitting;return Object(g.jsxs)(b.a,{onSubmit:a,style:{paddingTop:25},children:[Object(g.jsxs)(be.a,{className:"mb-3",children:[Object(g.jsx)(he.a,{style:{maxWidth:250},onChange:i,placeholder:"V\xfd\u0161e nab\xeddky","aria-label":"V\xfd\u0161e nab\xeddky","aria-describedby":"basic-addon1",type:"number",name:"bid",required:!0,ref:t}),Object(g.jsx)(be.a.Text,{id:"basic-addon1",children:"K\u010d"})]}),n.bid?Object(g.jsx)("div",{style:{color:"red",paddingTop:2},children:n.bid}):null,Object(g.jsx)("div",{children:Object(g.jsx)(h.a,{style:{marginTop:10},disabled:r||n.bid,variant:"primary",type:"submit",children:"Odeslat nab\xeddku"})})]})}})})}function ye(e,t){"is-valid"===e?(t.current.classList.remove("is-invalid"),t.current.classList.add("is-valid")):"is-invalid"===e&&(t.current.classList.remove("is-valid"),t.current.classList.add("is-invalid"))}function _e(e){var t=Object(i.useRef)(null),n=Object(i.useState)(null),a=Object(c.a)(n,2),r=a[0],s=a[1],l=Object(o.f)();return Object(g.jsxs)(b.a,{style:{paddingTop:20},onSubmit:function(e){e.preventDefault()},children:[Object(g.jsxs)(be.a,{children:[Object(g.jsx)(he.a,{style:{maxWidth:250},ref:t,placeholder:"Nov\xe1 cena","aria-label":"Nov\xe1 cena","aria-describedby":"basic-addon1",value:e.BidPrice,onChange:function(n){e.setBidPrice(n.target.value),function(n){var i=Number(n),a=Number(e.price);n<=0?(s("Nab\xeddka mus\xed b\xfdt kladn\xe9 \u010d\xedslo"),ye("is-invalid",t)):i<a&&e.is_demand?(s("Nab\xeddka mus\xed b\xfdt v popt\xe1vkov\xe9 aukci vy\u0161\u0161\xed ne\u017e vyvol\xe1vac\xed cena"),ye("is-invalid",t)):i>a&&!e.is_demand?(s("Nab\xeddka mus\xed b\xfdt v nab\xeddkov\xe9 aukci men\u0161\xed ne\u017e vyvol\xe1vac\xed cena"),ye("is-invalid",t)):(s(""),t.current.classList.remove("is-invalid"))}(n.target.value)},type:"number",name:"bid",disabled:!e.BidPriceEditing}),Object(g.jsx)(be.a.Text,{id:"basic-addon1",children:"CZK"})]}),Object(g.jsx)("div",{style:{color:"red",paddingTop:5},children:r}),Object(g.jsx)("div",{style:{paddingTop:10},children:e.BidPriceEditing?Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)(h.a,{variant:"primary",onClick:function(){!function(){e.setBidPriceEditing(!1),e.setLastBidPrice(e.BidPrice);var n=e.bid.find((function(t){return t.user_id==e.User.id}));fetch("https://iis-api.herokuapp.com/bids",{method:n?"PUT":"POST",headers:{"Content-type":"application/json; charset=UTF-8",Authorization:"Bearer "+sessionStorage.getItem("accessToken")},body:JSON.stringify({auction_id:e.id,price:Number(e.BidPrice),time:n?n.time:Date.now()})}).then((function(e){200==e.status?ye("is-valid",t):l("/error/"+e.status+"/"+e.statusText)}))}()},disabled:""!=r,children:"Potvrdit novou nab\xeddku"})," ",Object(g.jsx)(h.a,{variant:"secondary",onClick:function(){e.setBidPriceEditing(!1),e.setBidPrice(e.LastBidPrice),t.current.classList.remove("is-valid"),t.current.classList.remove("is-invalid"),s("")},children:"Zru\u0161it"})]}):Object(g.jsx)(g.Fragment,{children:Object(g.jsx)(h.a,{variant:"primary",type:"submit",onClick:function(){return e.setBidPriceEditing(!0)},children:"Upravit nab\xeddku"})})})]})}function ke(e){return e.User.id==e.auctioneer_id&&2==e.state_id?Object(g.jsx)(h.a,{variant:"primary",onClick:function(){return e.onClick(e.auction)},children:new Date(e.end_time)>Date.now()?"P\u0159ed\u010dasn\u011b ukon\u010dit a ur\u010dit v\xfdherce":"Ukon\u010dit a ur\u010dit v\xfdherce "}):null}function Se(e){var t;e.is_open&&1!=e.state_id&&0!=e.bid.length?t="Aktu\xe1ln\xed cena: "+e.bid.reduce((function(e,t){return new Date(e.time)>new Date(t.time)?e:t}),0).price+" K\u010d":t="Vyvol\xe1vac\xed cena: "+e.price+" K\u010d";return Object(g.jsx)("div",{className:pe.a.priceStyle,children:t})}function Ce(e){return e.UserLogged&&e.bidders&&e.bidders.some((function(t){return t.user_id==e.User.id}))&&2==e.state_id&&Date.now()>new Date(e.start_time)&&Date.now()<new Date(e.end_time)?e.is_open?Object(g.jsx)(fe,Object(U.a)(Object(U.a)({},e),{},{loadAuction:e.loadAuction})):Object(g.jsx)(_e,Object(U.a)(Object(U.a)({},e),{},{loadAuction:e.loadAuction})):null}function we(e){return e.bid&&e.bid.sort((function(e,t){return e.time<t.time?1:e.time>t.time?-1:0})),Object(g.jsx)(g.Fragment,{children:Object(g.jsxs)(z.a,{striped:!0,style:{textAlign:"center"},children:[Object(g.jsx)("thead",{children:Object(g.jsxs)("tr",{children:[Object(g.jsx)("th",{id:"jmeno",children:"Jm\xe9no"}),Object(g.jsx)("th",{children:"P\u0159\xedjmen\xed"}),Object(g.jsx)("th",{children:"\u010cas"}),Object(g.jsx)("th",{children:"\u010c\xe1stka"})]})}),Object(g.jsx)("tbody",{children:e.bid&&e.bid.map((function(e){return Object(g.jsxs)("tr",{children:[Object(g.jsx)("td",{children:e.user.name}),Object(g.jsx)("td",{children:e.user.surname}),Object(g.jsx)("td",{children:new Date(e.time).toLocaleString("cs-CZ")}),Object(g.jsxs)("td",{children:[e.price," K\u010d"]})]})}))})]},"jmeno")})}function Te(e){return e.bidders&&e.bidders.sort((function(e,t){return e.user.surname<t.user.surname?1:e.user.surname>t.user.surname?-1:0})),Object(g.jsx)(g.Fragment,{children:Object(g.jsxs)(z.a,{striped:!0,style:{textAlign:"center"},children:[Object(g.jsx)("thead",{children:Object(g.jsxs)("tr",{children:[Object(g.jsx)("th",{children:"Jm\xe9no"}),Object(g.jsx)("th",{children:"P\u0159\xedjmen\xed"}),Object(g.jsx)("th",{children:"Stav registrace"})]})}),Object(g.jsx)("tbody",{children:e.bidders&&e.bidders.map((function(t){return Object(g.jsxs)("tr",{children:[Object(g.jsx)("td",{children:t.user.name}),Object(g.jsx)("td",{children:t.user.surname}),e.UserLogged&&e.User.id==e.auctioneer_id?Object(g.jsx)("td",{children:t.is_approved?Object(g.jsx)(h.a,{variant:"danger",disabled:Date.now()>new Date(e.start_time),onClick:function(){return e.approveBidder(e.id,t.user.id,!1)},children:"Zru\u0161it registraci"}):Object(g.jsx)(h.a,{variant:"primary",disabled:Date.now()>new Date(e.start_time),onClick:function(){return e.approveBidder(e.id,t.user.id,!0)},children:"Schv\xe1lit registraci"})}):Object(g.jsx)("td",{children:t.is_approved?"Potvrzen":"Nepotvrzen"})]})}))})]})})}function Ne(e){if(e.IsLoggedIn&&e.bidders&&(!e.bidders.find((function(t){return t.user_id==e.User.id}))&&e.User.id!=e.auctioneer_id&&e.User.id!=e.author_id&&2==e.state_id&&Date.now()<=new Date(e.start_time)))return Object(g.jsx)(h.a,{variant:"primary",className:pe.a.buttonApprove,onClick:function(){return e.auctionRegister()},children:"Registrovat se do aukce"});return null}function Ie(e){var t=a.a.useState(!1),n=Object(c.a)(t,2),r=n[0],s=n[1],d=a.a.useState(""),u=Object(c.a)(d,2),j=u[0],b=u[1],m=a.a.useState(!1),p=Object(c.a)(m,2),O=p[0],x=p[1],v=a.a.useState(""),f=Object(c.a)(v,2),y=f[0],k=f[1],S=Object(i.useState)(!1),C=Object(c.a)(S,2),w=C[0],T=C[1],N=Object(i.useState)(""),I=Object(c.a)(N,2),A=I[0],z=I[1],L=Object(i.useState)(""),P=Object(c.a)(L,2),D=P[0],B=P[1],F=_(),Z=F.User,H=F.IsLoggedIn,G=Object(o.g)().auctionId,V=Object(i.useState)(null),E=Object(c.a)(V,2),J=E[0],R=E[1],K=Object(i.useState)(!1),M=Object(c.a)(K,2),X=M[0],$=M[1],q=Object(i.useState)([]),Q=Object(c.a)(q,2),Y=Q[0],ee=Q[1],te=Object(o.f)(),ne=function(){return fetch("https://iis-api.herokuapp.com/auctions/"+G).then((function(e){return e.json()})).then((function(e){if($(!0),ee(e),H&&Y.bid){var t=Y.bid.filter((function(e){return e.user_id==Z.id}));0!=t.length&&z(t[0].price)}}),(function(e){$(!0),R(e)}))};Object(i.useEffect)((function(){ne()}),[]);var ie=3==Y.state_id;if(J)return Object(g.jsxs)("div",{children:["Error: ",J.message]});if(X){var ae=[];if(Y.photos){for(var re in Y.photos)ae[re]={url:Y.photos[re]};0==ae.length&&(ae=[{url:"https://www.signfix.com.au/wp-content/uploads/2017/09/placeholder-600x400.png"}])}return Object(g.jsxs)(g.Fragment,{children:[3==Y.state_id&&Object(g.jsx)("span",{style:{color:"#dc3545"},className:pe.a.textStateCenter,children:"Aukce nebyla schv\xe1lena"}),Object(g.jsxs)(l.a,{className:"mainContainer",style:ie?{opacity:.25}:{opacity:1},children:[Object(g.jsxs)("div",{style:{display:"flex"},children:[Object(g.jsxs)("div",{style:{flex:.7,paddingBottom:25},children:[Object(g.jsx)("h1",{style:{paddingBottom:0},children:Y.name}),Object(g.jsx)("h4",{children:Y.is_demand?"Popt\xe1vkov\xe1 aukce":"Nab\xeddkov\xe1 aukce"}),2==Y.state_id&&new Date(Y.start_time)>Date.now()&&Object(g.jsxs)("h4",{style:{color:"#0d6efd"},children:["Aukce za\u010dne ",new Date(Y.start_time).toLocaleString("cs-CZ")]}),5==Y.state_id&&Object(g.jsxs)("h4",{style:{color:"#0d6efd"},children:["Aukce ukon\u010dena",null==Y.winner_id?" bez v\xfdherce":", v\xfdhercem je "+Y.user_auction_winner_idTouser.name+" "+Y.user_auction_winner_idTouser.surname," "]})]}),Object(g.jsxs)("div",{style:{flex:.3,padding:35},children:[Object(g.jsx)(Ne,Object(U.a)(Object(U.a)({},Y),{},{User:Z,IsLoggedIn:H,auctionRegister:function(){return fetch("https://iis-api.herokuapp.com/bidders",{method:"POST",headers:{"Content-type":"application/json; charset=UTF-8",Authorization:"Bearer "+sessionStorage.getItem("accessToken")},body:JSON.stringify({auction_id:Y.id})}).then((function(e){if(200==e.status)return e;te("/error/"+e.status+"/"+e.statusText)})).then((function(e){return ne()}))}})),Object(g.jsx)(ke,Object(U.a)(Object(U.a)({onClick:function(e){k(e),x(!0)},IsLoggedIn:H,User:Z},Y),{},{auction:Y})),H&&Z.role_id>1&&Z.id!=Y.author_id&&1==Y.state_id&&Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)(h.a,{variant:"success",onClick:function(){return b(Y),void s(!0)},children:"Schv\xe1lit"})," ",Object(g.jsx)(h.a,{variant:"danger",onClick:function(){return t=Y.id,fetch("https://iis-api.herokuapp.com/auctions/approve",{method:"PUT",headers:{"Content-type":"application/json; charset=UTF-8",Authorization:"Bearer "+sessionStorage.getItem("accessToken")},body:JSON.stringify({id:t,state_id:3})}).then((function(e){if(200==e.status)return e;te("/error/"+e.status+"/"+e.statusText)})).then((function(t){return e.item_prop.loadAuction()}));var t},children:"Zam\xedtnout"})]})]})]}),Object(g.jsxs)(l.a,{style:{display:"flex"},children:[Object(g.jsx)("div",{style:{flex:1,paddingRight:100,width:300,height:300,position:"relative"},children:Y.photos&&Object(g.jsx)(xe.a,{width:550,height:309,images:ae,showBullets:!0,showNavs:!0})}),Object(g.jsxs)("div",{style:{flex:1},children:[Object(g.jsxs)("p",{children:[Object(g.jsx)("strong",{children:"Popis: "}),Y.description]}),Object(g.jsx)(Se,Object(U.a)({},Y)),Object(g.jsxs)("div",{className:pe.a.auctionInfoItem,children:[Object(g.jsx)("strong",{children:"Konec aukce: "}),1==Y.state_id?"Neur\u010den":new Date(Y.end_time).toLocaleString("cs-CZ")]}),Object(g.jsxs)("div",{className:pe.a.auctionInfoItem,children:[Object(g.jsx)("strong",{children:"Typ: "}),Y.is_demand?"Popt\xe1vkov\xe1":"Nab\xeddkov\xe1"]}),Object(g.jsxs)("div",{className:pe.a.auctionInfoItem,children:[Object(g.jsx)("strong",{children:"Pravidla: "}),Y.is_open?"Otev\u0159en\xe1":"Uzav\u0159en\xe1"]}),Object(g.jsxs)("div",{className:pe.a.auctionInfoItem,children:[Object(g.jsx)("strong",{children:"Licit\xe1tor: "}),null==Y.auctioneer_id?"Nep\u0159i\u0159azen":Y.user_auction_author_idTouser&&Y.user_auction_auctioneer_idTouser.name+" "+Y.user_auction_auctioneer_idTouser.surname]}),Object(g.jsxs)("div",{className:pe.a.auctionInfoItem,children:[Object(g.jsx)("strong",{children:"Autor: "}),Y.user_auction_author_idTouser&&Y.user_auction_author_idTouser.name+" "+Y.user_auction_author_idTouser.surname]}),Y.is_open&&Object(g.jsxs)("div",{className:pe.a.auctionInfoItem,children:[Object(g.jsxs)("strong",{children:["Minim\xe1ln\xed ",Y.is_demand?"p\u0159\xedhoz: ":"sn\xed\u017een\xed nab\xeddky: "]})," ",null==Y.min_bid?"Neomezen":Y.min_bid+"K\u010d"]}),Y.is_open&&Object(g.jsxs)("div",{className:pe.a.auctionInfoItem,children:[Object(g.jsxs)("strong",{children:["Maxim\xe1ln\xed ",Y.is_demand?"p\u0159\xedhoz: ":"sn\xed\u017een\xed nab\xeddky: "]})," ",null==Y.max_bid?"Neomezen":Y.max_bid+"K\u010d"]}),Object(g.jsx)(Ce,Object(U.a)(Object(U.a)({},Y),{},{UserLogged:H,User:Z,BidPriceEditing:w,setBidPriceEditing:T,LastBidPrice:A,setLastBidPrice:z,BidPrice:D,setBidPrice:B,loadAuction:ne}))]})]}),Object(g.jsx)("div",{style:{marginTop:100},children:Object(g.jsxs)(je.a,{defaultActiveKey:Y.is_open?"History":"RegisteredUsers",id:"uncontrolled-tab-example",className:"mb-3",children:[Y.is_open&&new Date(Y.start_time)<=Date.now()&&Object(g.jsxs)(ue.a,{eventKey:"History",title:"Historie nab\xeddek",children:[Object(g.jsx)("h2",{children:"Historie nab\xeddek"}),Object(g.jsx)(we,Object(U.a)({},Y))]}),Object(g.jsxs)(ue.a,{eventKey:"RegisteredUsers",title:"Registrov\xe1n\xed u\u017eivatel\xe9 v aukci",children:[Object(g.jsx)("h2",{children:"Registrov\xe1n\xed u\u017eivatel\xe9 v aukci"}),Y.bidders&&0==Y.bidders.length?"Nikdo nen\xed v aukci registrov\xe1n":Object(g.jsx)(Te,Object(U.a)(Object(U.a)({},Y),{},{User:Z,UserLogged:H,approveBidder:function(e,t,n){return fetch("https://iis-api.herokuapp.com/bidders/",{method:"PUT",headers:{"Content-type":"application/json; charset=UTF-8",Authorization:"Bearer "+sessionStorage.getItem("accessToken")},body:JSON.stringify({auction_id:e,user_id:t,is_approved:n})}).then((function(e){200==e.status?ne():te("/error/"+e.status+"/"+e.statusText)}))}}))]})]})})]}),Object(g.jsx)(ge,{show:O,onHide:function(){return x(!1)},item:y,onSubmit:function(e,t){var n={id:e.id,state_id:5};null==e.winner_id?n.winner_id=null:n.winner_id=Number(e.winner_id),new Date(e.end_time)>=Date.now()&&(n.end_time=Date.now()),fetch("https://iis-api.herokuapp.com/auctions/approve",{method:"PUT",headers:{"Content-type":"application/json; charset=UTF-8",Authorization:"Bearer "+sessionStorage.getItem("accessToken")},body:JSON.stringify(n)}).then((function(){ne(),t.setSubmitting(!1),x(!1)}))}}),Object(g.jsx)(oe,Object(U.a)({show:r,onHide:function(){return s(!1)},loadAuctions:ne,user:Z},j))]})}return Object(g.jsx)(W,{})}function Ae(){var e=Object(i.useState)([]),t=Object(c.a)(e,2),n=t[0],a=t[1],r=_(),s=r.User,d=r.IsLoggedIn,u=Object(i.useState)(null),j=Object(c.a)(u,2),b=j[0],h=j[1],m=Object(i.useState)(!1),p=Object(c.a)(m,2),O=p[0],x=p[1],v=Object(o.f)();return Object(i.useEffect)((function(){d||v("/error/403/Unauthorized"),fetch("https://iis-api.herokuapp.com/auctions").then((function(e){return e.json()})).then((function(e){x(!0),a(e)}),(function(e){x(!0),h(e)}))}),[]),b?Object(g.jsxs)("div",{children:["Error: ",b.message]}):O?Object(g.jsx)(g.Fragment,{children:Object(g.jsxs)(l.a,{className:"mainContainer",children:[Object(g.jsx)("h1",{children:s.name+" "+s.surname}),Object(g.jsxs)("div",{style:{fontSize:20},children:[Object(g.jsxs)("p",{children:["Email: ",s.email]}),Object(g.jsxs)("p",{children:["Role: ",s.role.name]})]}),Object(g.jsxs)(je.a,{defaultActiveKey:"MyAuctions",id:"uncontrolled-tab-example",className:"mb-3",children:[Object(g.jsxs)(ue.a,{eventKey:"MyAuctions",title:"Moje aukce",children:[Object(g.jsx)("h2",{children:"Moje aukce"}),Object(g.jsx)(l.a,{className:$.a.flexContainer,children:n.map((function(e){return e.author_id===s.id?Object(g.jsx)(ae,Object(U.a)(Object(U.a)({},e),{},{link:"/auction-detail/"+e.id})):null}))})]}),Object(g.jsxs)(ue.a,{eventKey:"RegisteredAuctions",title:"Aukce, do kter\xfdch jste se registroval",children:[Object(g.jsx)("h2",{children:"Aukce, do kter\xfdch jste se registroval"}),Object(g.jsx)(l.a,{className:$.a.flexContainer,children:n.map((function(e){return e.bidders.some((function(e){return e.user_id==s.id}))?Object(g.jsx)(ae,Object(U.a)(Object(U.a)({},e),{},{link:"/auction-detail/"+e.id})):null}))})]}),s.role_id>1?Object(g.jsxs)(ue.a,{eventKey:"AuctioneerAuctions",title:"Aukce, v kter\xfdch jste licit\xe1torem ",children:[Object(g.jsx)("h2",{children:"Aukce, v kter\xfdch jste licit\xe1torem "}),Object(g.jsx)(l.a,{className:$.a.flexContainer,children:n.map((function(e){return e.auctioneer_id==s.id?Object(g.jsx)(ae,Object(U.a)(Object(U.a)({},e),{},{link:"/auction-detail/"+e.id})):null}))})]}):""]})]})}):Object(g.jsx)(W,{})}var ze=n(120),Le=n.n(ze);function Ue(e){var t=Object(o.g)(),n=t.errorId,i=t.errorText;return Object(g.jsx)(g.Fragment,{children:Object(g.jsxs)(l.a,{className:Le.a.centerContent,children:[Object(g.jsx)("h1",{style:{fontSize:90},children:n}),Object(g.jsxs)("h2",{children:[" ",i]}),Object(g.jsx)(p.b,{to:"/",children:Object(g.jsx)(h.a,{variant:"primary",size:"lg",style:{margin:20},children:"Home"})})]})})}function Pe(){var e=Object(o.e)().pathname;return Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)(k,{page:e}),Object(g.jsxs)(o.c,{children:[Object(g.jsx)(o.a,{path:"/",element:Object(g.jsx)(de,{})}),Object(g.jsx)(o.a,{path:"/login",element:Object(g.jsx)(w,{})}),Object(g.jsx)(o.a,{path:"/register",element:Object(g.jsx)(A,{})}),Object(g.jsx)(o.a,{path:"/user-profile",element:Object(g.jsx)(Ae,{})}),Object(g.jsx)(o.a,{path:"/auction-detail/:auctionId",element:Object(g.jsx)(Ie,{})}),Object(g.jsx)(o.a,{path:"/usr-man",element:Object(g.jsx)(J,{})}),Object(g.jsx)(o.a,{path:"*",element:Object(g.jsx)(M,{})}),Object(g.jsx)(o.a,{path:"/error/:errorId/:errorText",element:Object(g.jsx)(Ue,{})})]})]})}var De=function(){var e=_(),t=e.setIsLoggedIn,n=e.setUser,a=Object(i.useState)(null),r=Object(c.a)(a,2),s=r[0],o=r[1],l=Object(i.useState)(!1),d=Object(c.a)(l,2),u=d[0],j=d[1];return Object(i.useEffect)((function(){null!=sessionStorage.getItem("accessToken")?fetch("https://iis-api.herokuapp.com/users/current",{method:"GET",headers:{"Content-type":"application/json; charset=UTF-8",Authorization:"Bearer "+sessionStorage.getItem("accessToken")}}).then((function(e){return e.json()})).then((function(e){j(!0),n(e),t(!0)}),(function(e){j(!0),o(e)})):j(!0)}),[]),s?Object(g.jsxs)("div",{children:["Error: ",s.message]}):u?Object(g.jsx)(Pe,{}):Object(g.jsx)(W,{})};s.a.render(Object(g.jsx)(a.a.StrictMode,{children:Object(g.jsx)(p.a,{children:Object(g.jsx)(y,{children:Object(g.jsx)(De,{})})})}),document.getElementById("root"))},36:function(e,t,n){e.exports={auctionInfoItem:"AuctionDetailPage_auctionInfoItem__ptXwU",priceStyle:"AuctionDetailPage_priceStyle__3XK4d",textStateCenter:"AuctionDetailPage_textStateCenter__1oXtt"}},47:function(e,t,n){e.exports={cardItem:"previewCard_cardItem__1Adpc",buttonApprove:"previewCard_buttonApprove__2BeGC",buttonReject:"previewCard_buttonReject__2LvOa",buttonsContainer:"previewCard_buttonsContainer__2UNHD",rejectedText:"previewCard_rejectedText__3pu_N",approvedText:"previewCard_approvedText__KjD97",cardTitle:"previewCard_cardTitle__oDzau",notApproved:"previewCard_notApproved__TQWGr",cardText:"previewCard_cardText__39SsU"}},64:function(e,t,n){e.exports={flexContainer:"AuctionsPage_flexContainer__1Z2qb"}}},[[138,1,2]]]);